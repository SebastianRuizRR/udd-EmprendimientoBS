// ===== PRISMA CONFIG =====
generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// ============== MODELOS ==============
// Salas, Equipos e Integrantes de ejemplo con nombres en español.

model Sala {
  id       Int      @id @default(autoincrement())
  codigo   String   @unique
  creadaEn DateTime @default(now())

  // LADO OPUESTO de Equipo.sala
  equipos Equipo[] @relation("SalaEquipos")

  @@map("salas")
}

model Equipo {
  id     Int    @id @default(autoincrement())
  nombre String @map("nombre")

  // FK a Sala
  salaId Int  @map("sala_id")
  sala   Sala @relation("SalaEquipos", fields: [salaId], references: [id])

  // (opcional) relación con Integrantes
  integrantes Integrante[] @relation("EquipoIntegrantes")

  @@map("equipos")
}

model Integrante {
  id     Int    @id @default(autoincrement())
  nombre String

  // FK a Equipo
  equipoId Int    @map("equipo_id")
  equipo   Equipo @relation("EquipoIntegrantes", fields: [equipoId], references: [id])

  @@map("integrantes")
}
