{"ast":null,"code":"import _objectSpread from \"/workspaces/udd-EmprendimientoBS/web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _jsxFileName = \"/workspaces/udd-EmprendimientoBS/web/src/App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$(),\n  _s10 = $RefreshSig$(),\n  _s11 = $RefreshSig$();\n// App.tsx\nimport React, { useEffect, useLayoutEffect, useMemo, useRef, useState, memo } from \"react\";\nimport TeamworkMiniAnim from \"./componentes/TeamworkMiniAnim\";\nimport EmpathyAnimacion from \"./componentes/EmpathyAnimacion\";\nimport CreatividadAnimacion from \"./componentes/CreatividadAnimacion\";\nimport PitchAnimacion from \"./componentes/PitchAnimacion\";\n\n/* ============ UTILES ============ */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction mmss(sec) {\n  const s = Math.max(0, Math.floor(sec || 0));\n  const mStr = String(Math.floor(s / 60)).padStart(2, \"0\");\n  const sStr = String(s % 60).padStart(2, \"0\");\n  return \"\".concat(mStr, \":\").concat(sStr);\n}\n\n/* --THEME-- */\nconst theme = {\n  rosa: \"#E91E63\",\n  azul: \"#1976D2\",\n  amarillo: \"#FFEB3B\",\n  blanco: \"#FFFFFF\",\n  surfaceAlt: \"#F7F9FC\",\n  gris: \"#ECEFF1\",\n  texto: \"#0D47A1\",\n  muted: \"#6B7A90\",\n  border: \"#E3E8EF\",\n  shadow: \"0 16px 36px rgba(16,24,40,.14)\"\n};\n\n/* --GLOBAL CSS-- */\nconst GlobalFormCSS = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: \"\\n  *{-webkit-tap-highlight-color:transparent;} input,textarea,select{box-sizing:border-box;max-width:100%} body{margin:0}\\n  button:focus-visible,input:focus-visible,textarea:focus-visible,select:focus-visible{outline:3px solid #93C5FD;outline-offset:2px}\\n  @keyframes crownFloat{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}\\n  @keyframes shimmer{0%{background-position:0% 0}100%{background-position:120% 0}}\\n  @keyframes fall{0%{transform:translateY(-10vh) rotate(0deg);opacity:1}100%{transform:translateY(110vh) rotate(360deg);opacity:.9}}\\n  @keyframes floatY{0%{transform:translateY(0)}50%{transform:translateY(-18px)}100%{transform:translateY(0)}}\\n  @keyframes pulseSoft{0%{transform:scale(1);opacity:.65}50%{transform:scale(1.06);opacity:.85}100%{transform:scale(1);opacity:.65}}\\n\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 21,\n  columnNumber: 26\n}, this);\n\n/* --BASE STYLES-- */\n_c = GlobalFormCSS;\nconst appStyles = {\n  position: \"relative\",\n  minHeight: \"100dvh\",\n  overflowY: \"auto\",\n  overflowX: \"hidden\",\n  fontFamily: \"Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif\",\n  color: theme.texto\n};\nconst baseInput = {\n  width: \"100%\",\n  padding: 12,\n  borderRadius: 12,\n  border: \"1px solid \".concat(theme.border),\n  boxSizing: \"border-box\",\n  maxWidth: \"100%\",\n  background: theme.blanco\n};\nconst panelBox = {\n  background: theme.blanco,\n  border: \"1px solid \".concat(theme.border),\n  borderRadius: 16,\n  padding: 12,\n  position: \"relative\",\n  zIndex: 2,\n  boxShadow: theme.shadow\n};\nconst badgeTitle = {\n  fontWeight: 900,\n  color: theme.azul,\n  marginBottom: 6\n};\nconst smallHint = {\n  fontSize: 12,\n  opacity: .7,\n  marginTop: 8\n};\nconst JOINED_KEY = \"udd_joined_room_v1\";\nconst AutoCenter = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const contentRef = useRef(null);\n  const [center, setCenter] = useState(true);\n  const recompute = () => {\n    var _contentRef$current$o, _contentRef$current;\n    const vp = window.innerHeight;\n    const padding = 48;\n    const contentH = (_contentRef$current$o = (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.offsetHeight) !== null && _contentRef$current$o !== void 0 ? _contentRef$current$o : 0;\n    setCenter(contentH + padding <= vp);\n  };\n  useLayoutEffect(() => {\n    recompute();\n    const ro = new ResizeObserver(recompute);\n    if (contentRef.current) ro.observe(contentRef.current);\n    window.addEventListener(\"resize\", recompute);\n    return () => {\n      ro.disconnect();\n      window.removeEventListener(\"resize\", recompute);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"relative\",\n      width: \"100%\",\n      minHeight: \"100dvh\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: center ? \"center\" : \"flex-start\",\n      alignItems: \"center\",\n      padding: 24\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: contentRef,\n      style: {\n        width: \"100%\",\n        display: \"grid\",\n        justifyItems: \"center\"\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 10\n  }, this);\n};\n_s(AutoCenter, \"sQEM/07ayJkC+eTnRaT++N54Rvo=\");\n_c2 = AutoCenter;\nconst Card = _ref2 => {\n  let {\n    title,\n    subtitle,\n    width = 520,\n    children,\n    tight\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"clamp(320px,92vw,\".concat(width, \"px)\"),\n      background: \"rgba(255,255,255,0.96)\",\n      boxShadow: theme.shadow,\n      border: \"1px solid \".concat(theme.border),\n      borderRadius: 20,\n      padding: tight ? 18 : 24,\n      textAlign: \"center\",\n      backdropFilter: \"blur(2px)\",\n      position: \"relative\",\n      zIndex: 3,\n      margin: \"12px auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        margin: 0,\n        marginBottom: 8,\n        fontSize: 26,\n        fontWeight: 900,\n        color: theme.rosa\n      },\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, this), subtitle && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: 0,\n        marginBottom: 16,\n        color: theme.azul\n      },\n      children: subtitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 3\n  }, this);\n};\n_c3 = Card;\nconst Btn = /*#__PURE__*/memo(_c4 = _ref3 => {\n  let {\n    onClick,\n    bg = theme.azul,\n    fg = theme.blanco,\n    label,\n    full = true,\n    disabled,\n    variant = \"solid\"\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => onClick === null || onClick === void 0 ? void 0 : onClick(),\n    disabled: disabled,\n    style: {\n      width: full ? \"100%\" : undefined,\n      padding: \"12px 16px\",\n      borderRadius: 14,\n      border: variant === \"outline\" ? \"2px solid \".concat(theme.azul) : \"none\",\n      cursor: disabled ? \"not-allowed\" : \"pointer\",\n      fontWeight: 800,\n      letterSpacing: .2,\n      background: disabled ? \"#cfd8dc\" : variant === \"outline\" ? \"transparent\" : bg,\n      color: disabled ? \"#607d8b\" : variant === \"outline\" ? theme.azul : fg,\n      boxShadow: variant === \"outline\" ? \"none\" : \"0 6px 12px rgba(0,0,0,.12)\",\n      transition: \"transform .06s ease, opacity .15s ease, box-shadow .15s ease\",\n      whiteSpace: \"nowrap\"\n    },\n    onMouseDown: e => !disabled && (e.currentTarget.style.transform = \"scale(.98)\"),\n    onMouseUp: e => !disabled && (e.currentTarget.style.transform = \"scale(1)\"),\n    onMouseEnter: e => {\n      if (!disabled && variant === \"solid\") e.currentTarget.style.boxShadow = \"0 8px 16px rgba(0,0,0,.16)\";\n    },\n    onMouseLeave: e => {\n      if (!disabled && variant === \"solid\") e.currentTarget.style.boxShadow = \"0 6px 12px rgba(0,0,0,.12)\";\n    },\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 3\n  }, this);\n});\n\n/* --FONDO-- */\n_c5 = Btn;\nconst Background = /*#__PURE__*/memo(_c6 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    position: \"fixed\",\n    inset: 0,\n    pointerEvents: \"none\",\n    overflow: \"hidden\"\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"absolute\",\n      inset: 0,\n      background: \"linear-gradient(145deg, \".concat(theme.rosa, \" 0%, \").concat(theme.azul, \" 60%)\")\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"absolute\",\n      inset: 0,\n      background: \"radial-gradient(40% 35% at 85% 15%, \".concat(theme.amarillo, \"55, transparent 65%)\"),\n      filter: \"blur(2px)\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Orb, {\n    left: \"6%\",\n    top: \"72%\",\n    size: 220,\n    color: \"\".concat(theme.amarillo, \"55\"),\n    delay: .2\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Orb, {\n    left: \"78%\",\n    top: \"68%\",\n    size: 180,\n    color: \"\".concat(theme.rosa, \"44\"),\n    delay: .6\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Orb, {\n    left: \"12%\",\n    top: \"18%\",\n    size: 140,\n    color: \"\".concat(theme.azul, \"55\"),\n    delay: .1\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Wave, {\n    color: \"\".concat(theme.azul),\n    opacity: .18,\n    top: 100\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Wave, {\n    color: \"\".concat(theme.rosa),\n    opacity: .14,\n    top: 170,\n    reverse: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(GeoPiece, {\n    left: \"70%\",\n    top: \"22%\",\n    size: 140,\n    color: \"\".concat(theme.blanco, \"18\"),\n    rotate: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(GeoPiece, {\n    left: \"28%\",\n    top: \"78%\",\n    size: 160,\n    color: \"\".concat(theme.blanco, \"14\")\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 67,\n  columnNumber: 3\n}, this));\n_c7 = Background;\nconst Orb = _ref4 => {\n  let {\n    left,\n    top,\n    size,\n    color,\n    delay = 0\n  } = _ref4;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"absolute\",\n      left,\n      top,\n      width: size,\n      height: size,\n      borderRadius: \"50%\",\n      background: color,\n      filter: \"blur(6px)\",\n      animation: \"floatY \".concat(5.5 + Math.random() * 2, \"s ease-in-out \").concat(delay, \"s infinite\")\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 119\n  }, this);\n};\n_c8 = Orb;\nconst Wave = _ref5 => {\n  let {\n    color,\n    opacity = .2,\n    top = 120,\n    reverse\n  } = _ref5;\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    viewBox: \"0 0 1440 320\",\n    preserveAspectRatio: \"xMidYMid slice\",\n    style: {\n      position: \"absolute\",\n      top,\n      left: 0,\n      width: \"100%\",\n      height: 240,\n      opacity,\n      transform: reverse ? \"scaleY(-1)\" : undefined,\n      animation: \"drift 12s ease-in-out infinite\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      fill: color,\n      d: \"M0,192 C240,240 480,240 720,192 C960,144 1200,144 1440,192 L1440,320 L0,320 Z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 3\n  }, this);\n};\n_c9 = Wave;\nconst GeoPiece = _ref6 => {\n  let {\n    left,\n    top,\n    size,\n    color,\n    rotate\n  } = _ref6;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"absolute\",\n      left,\n      top,\n      width: size,\n      height: size,\n      borderRadius: 26,\n      background: color,\n      transform: \"rotate(12deg)\",\n      animation: rotate ? \"pulseSoft 7s ease-in-out infinite\" : \"floatY 8s ease-in-out infinite\",\n      boxShadow: \"0 20px 40px rgba(0,0,0,.08)\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 3\n  }, this);\n};\n\n/* ============ FLOW/STATE ============ */\n_c0 = GeoPiece;\nconst FLOW_KEY = \"udd_flow_state_v1\",\n  READY_KEY = \"udd_ready_teams_v1\",\n  COINS_KEY = \"udd_coins_v1\";\nconst THEMES_KEY = \"udd_themes_v1\",\n  ANALYTICS_KEY = \"udd_analytics_v1\";\nfunction readJSON(key, fallback) {\n  try {\n    const raw = localStorage.getItem(key);\n    return raw ? JSON.parse(raw) : fallback;\n  } catch (_unused) {\n    return fallback;\n  }\n}\nfunction writeJSON(key, value) {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (_unused2) {}\n}\nfunction normalizeFlow(f, initial) {\n  const base = _objectSpread(_objectSpread({}, initial), f || {});\n  return _objectSpread(_objectSpread({}, base), {}, {\n    presentOrder: Array.isArray(f === null || f === void 0 ? void 0 : f.presentOrder) ? f.presentOrder : [],\n    currentIdx: typeof (f === null || f === void 0 ? void 0 : f.currentIdx) === \"number\" ? f.currentIdx : 0,\n    pitchSeconds: typeof (f === null || f === void 0 ? void 0 : f.pitchSeconds) === \"number\" ? f.pitchSeconds : initial.pitchSeconds\n  });\n}\n\n/* --STORAGE SIGNAL-- */\nfunction useStorageSignal(keys) {\n  _s2();\n  let pollMs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 800;\n  const [tick, setTick] = useState(0);\n  useEffect(() => {\n    const onStorage = e => {\n      if (!e.key) return;\n      if (keys.includes(e.key)) setTick(t => t + 1);\n    };\n    window.addEventListener(\"storage\", onStorage);\n    const id = window.setInterval(() => setTick(t => t + 1), pollMs);\n    return () => {\n      window.removeEventListener(\"storage\", onStorage);\n      window.clearInterval(id);\n    };\n  }, [keys, pollMs]);\n  return tick;\n}\n\n/* --SHARED FLOW-- */\n_s2(useStorageSignal, \"h/VbYxPhIb4vYYaOTGTZ+Lfua5w=\");\nfunction useSharedFlow(isTeacher, initial) {\n  _s3();\n  const [flow, setFlow] = useState(() => normalizeFlow(readJSON(FLOW_KEY, initial), initial));\n  useEffect(() => {\n    const onStorage = e => {\n      if (e.key === FLOW_KEY && e.newValue) {\n        try {\n          const parsed = JSON.parse(e.newValue);\n          setFlow(normalizeFlow(parsed, initial));\n        } catch (_unused3) {}\n      }\n    };\n    window.addEventListener(\"storage\", onStorage);\n    return () => window.removeEventListener(\"storage\", onStorage);\n  }, []);\n  const publish = next => {\n    const newFlow = normalizeFlow(_objectSpread(_objectSpread({}, flow), next), initial);\n    setFlow(newFlow);\n    writeJSON(FLOW_KEY, newFlow);\n    try {\n      window.dispatchEvent(new StorageEvent(\"storage\", {\n        key: FLOW_KEY,\n        newValue: JSON.stringify(newFlow)\n      }));\n    } catch (_unused4) {}\n  };\n  useEffect(() => {\n    if (!isTeacher || !flow.running) return;\n    const id = window.setInterval(() => {\n      setFlow(f => {\n        const left = Math.max(0, f.remaining - 1);\n        const nf = _objectSpread(_objectSpread({}, f), {}, {\n          remaining: left,\n          running: left > 0 && f.running\n        });\n        writeJSON(FLOW_KEY, nf);\n        try {\n          window.dispatchEvent(new StorageEvent(\"storage\", {\n            key: FLOW_KEY,\n            newValue: JSON.stringify(nf)\n          }));\n        } catch (_unused5) {}\n        ;\n        return nf;\n      });\n    }, 1000);\n    return () => window.clearInterval(id);\n  }, [isTeacher, flow.running]);\n  const setStep = (step, remaining) => publish({\n    step,\n    remaining: remaining !== null && remaining !== void 0 ? remaining : flow.remaining,\n    running: false\n  });\n  const startTimer = seconds => publish({\n    remaining: seconds !== null && seconds !== void 0 ? seconds : flow.remaining,\n    running: true\n  });\n  const pauseTimer = () => publish({\n    running: false\n  });\n  const resetTimer = seconds => publish({\n    remaining: seconds,\n    running: false\n  });\n  return {\n    flow,\n    setStep,\n    startTimer,\n    pauseTimer,\n    resetTimer,\n    publish\n  };\n}\n\n/* --ANALYTICS HOOK-- */\n_s3(useSharedFlow, \"3aTMUdHz1G95oR4Vhzb8VT5JE2E=\");\nfunction useAnalytics() {\n  _s4();\n  const [analytics, setAnalytics] = useState(() => readJSON(ANALYTICS_KEY, {\n    roomsCreated: 0,\n    challengeUsage: {},\n    teams: [],\n    reflections: [],\n    feedbacks: []\n  }));\n  useEffect(() => {\n    const onStorage = e => {\n      if (e.key === ANALYTICS_KEY && e.newValue) {\n        try {\n          setAnalytics(JSON.parse(e.newValue));\n        } catch (_unused6) {}\n      }\n    };\n    window.addEventListener(\"storage\", onStorage);\n    return () => window.removeEventListener(\"storage\", onStorage);\n  }, []);\n  const update = updater => {\n    setAnalytics(prev => {\n      const next = updater(prev);\n      writeJSON(ANALYTICS_KEY, next);\n      try {\n        window.dispatchEvent(new StorageEvent(\"storage\", {\n          key: ANALYTICS_KEY,\n          newValue: JSON.stringify(next)\n        }));\n      } catch (_unused7) {}\n      ;\n      return next;\n    });\n  };\n  return {\n    analytics,\n    update\n  };\n}\n\n/* ===================== APP ===================== */\n_s4(useAnalytics, \"17BxQ66IJf7DcU3BKwhgdCVrIdc=\");\nexport default function App() {\n  _s5();\n  const [mode, setMode] = useState(\"inicio\");\n  const [equiposQty, setEquiposQty] = useState(4);\n  const [roomCode, setRoomCode] = useState(\"\");\n  const [groupName, setGroupName] = useState(\"\");\n  const [miNombre, setMiNombre] = useState(\"\");\n  const [miCarrera, setMiCarrera] = useState(\"\");\n  const [integrantes, setIntegrantes] = useState([]);\n  const [teamReady, setTeamReady] = useState(false);\n  const [coins, setCoins] = useState(0);\n  const isTablet = useMediaQuery(\"(max-width: 1180px)\");\n  const isMobile = useMediaQuery(\"(max-width: 640px)\");\n  const [joinedRoom, setJoinedRoom] = useState(() => sessionStorage.getItem(JOINED_KEY) || \"\");\n\n  // --- Login Admin ---\n  const [showAdminLogin, setShowAdminLogin] = useState(false);\n  const [adminUser, setAdminUser] = useState(\"\");\n  const [adminPass, setAdminPass] = useState(\"\");\n  const [adminErr, setAdminErr] = useState(\"\");\n  const initialFlow = {\n    step: \"lobby\",\n    running: false,\n    remaining: 5 * 60,\n    roomCode: \"\",\n    expectedTeams: 0,\n    /* NUEVO */\n    presentOrder: [],\n    currentIdx: 0,\n    pitchSeconds: 90\n  };\n  const isTeacher = mode === \"prof\";\n  const {\n    flow,\n    setStep,\n    startTimer,\n    pauseTimer,\n    resetTimer,\n    publish\n  } = useSharedFlow(isTeacher, initialFlow);\n  const storageTick = useStorageSignal(mode === \"prof\" ? [READY_KEY, COINS_KEY, FLOW_KEY, ANALYTICS_KEY, THEMES_KEY] : mode === \"alumno\" ? [COINS_KEY, FLOW_KEY, ANALYTICS_KEY, THEMES_KEY] : [FLOW_KEY, ANALYTICS_KEY, THEMES_KEY], 800);\n  const readyNow = useMemo(() => readyCount(), [storageTick, flow.roomCode, flow.expectedTeams]);\n  const teamId = flow.roomCode && (groupName || \"(sin-nombre)\") ? \"\".concat(flow.roomCode, \"::\").concat((groupName || \"\").trim() || \"sin-nombre\") : \"\";\n  const analyticsApi = useAnalytics();\n  const {\n    analytics,\n    update\n  } = analyticsApi;\n  const markReady = () => {\n    const set = new Set(readJSON(READY_KEY, []));\n    if (teamId) set.add(teamId);\n    const arr = Array.from(set);\n    writeJSON(READY_KEY, arr);\n    try {\n      window.dispatchEvent(new StorageEvent(\"storage\", {\n        key: READY_KEY,\n        newValue: JSON.stringify(arr)\n      }));\n    } catch (_unused8) {}\n    ;\n    if (teamId) {\n      const teamName = teamId.split(\"::\")[1] || \"Equipo\";\n      update(a => _objectSpread(_objectSpread({}, a), {}, {\n        teams: [...a.teams, {\n          roomCode: flow.roomCode,\n          teamName,\n          integrantes: integrantes.length ? integrantes : [{\n            nombre: miNombre || \"Integrante\",\n            carrera: miCarrera || \"—\"\n          }],\n          ts: Date.now()\n        }]\n      }));\n    }\n    setTeamReady(true);\n  };\n  function readyCount() {\n    const set = new Set(readJSON(READY_KEY, []));\n    return Array.from(set).filter(id => id.startsWith(\"\".concat(flow.roomCode, \"::\"))).length;\n  }\n  const clearReadyForRoom = () => {\n    const arr = readJSON(READY_KEY, []);\n    const filtered = arr.filter(id => !id.startsWith(\"\".concat(flow.roomCode, \"::\")));\n    writeJSON(READY_KEY, filtered);\n    try {\n      window.dispatchEvent(new StorageEvent(\"storage\", {\n        key: READY_KEY,\n        newValue: JSON.stringify(filtered)\n      }));\n    } catch (_unused9) {}\n    ;\n  };\n  function teamsForCurrentRoom(analytics, roomCode) {\n    return analytics.teams.filter(t => t.roomCode === roomCode).map(t => t.teamName).filter(Boolean);\n  }\n  function getTeamsForRoom(analytics, roomCode) {\n    return teamsForCurrentRoom(analytics, roomCode);\n  }\n  function readyTeamNames(roomCode) {\n    const arr = readJSON(READY_KEY, []);\n    return new Set(arr.filter(id => id.startsWith(\"\".concat(roomCode, \"::\"))).map(id => id.split(\"::\")[1] || \"\"));\n  }\n  function pruneCoinsForRoom(roomCode) {\n    const map = readJSON(COINS_KEY, {});\n    const ready = readyTeamNames(roomCode);\n    const newMap = Object.fromEntries(Object.entries(map).filter(_ref7 => {\n      let [key] = _ref7;\n      if (!key.startsWith(\"\".concat(roomCode, \"::\"))) return true;\n      const team = key.split(\"::\")[1] || \"\";\n      return ready.has(team);\n    }));\n    writeJSON(COINS_KEY, newMap);\n    try {\n      window.dispatchEvent(new StorageEvent(\"storage\", {\n        key: COINS_KEY,\n        newValue: JSON.stringify(newMap)\n      }));\n    } catch (_unused0) {}\n  }\n  useEffect(() => {\n    if (!teamId || mode !== \"alumno\" || !teamReady) return;\n    const map = readJSON(COINS_KEY, {});\n    map[teamId] = coins;\n    writeJSON(COINS_KEY, map);\n    try {\n      window.dispatchEvent(new StorageEvent(\"storage\", {\n        key: COINS_KEY,\n        newValue: JSON.stringify(map)\n      }));\n    } catch (_unused1) {}\n  }, [coins, teamId, mode, teamReady]);\n  const ranking = useMemo(() => {\n    const map = readJSON(COINS_KEY, {});\n    const ready = readyTeamNames(flow.roomCode);\n    const pairs = Object.entries(map).filter(_ref8 => {\n      let [id] = _ref8;\n      return id.startsWith(\"\".concat(flow.roomCode, \"::\"));\n    }).map(_ref9 => {\n      let [id, v] = _ref9;\n      return {\n        equipo: id.split(\"::\")[1] || \"Equipo\",\n        total: v || 0\n      };\n    }).filter(_ref0 => {\n      let {\n        equipo\n      } = _ref0;\n      return ready.has(equipo);\n    });\n    return pairs.sort((a, b) => b.total - a.total);\n  }, [flow.roomCode, flow.step, storageTick]);\n\n  /* --F1: Spot the Difference-- */\n\n  const [diffs, setDiffs] = useState([{\n    x: .2,\n    y: .25,\n    r: .05,\n    zone: 0\n  }, {\n    x: .35,\n    y: .7,\n    r: .05,\n    zone: 1\n  }, {\n    x: .68,\n    y: .35,\n    r: .05,\n    zone: 2\n  }, {\n    x: .8,\n    y: .7,\n    r: .05,\n    zone: 3\n  }]);\n  const [hintsLeft, setHintsLeft] = useState(2);\n  const spotRef = useRef(null);\n  const clickSpot = e => {\n    if (!spotRef.current || !flow.running) return;\n    const rect = spotRef.current.getBoundingClientRect();\n    const cx = (e.clientX - rect.left) / rect.width;\n    const cy = (e.clientY - rect.top) / rect.height;\n    setDiffs(arr => arr.map(d => {\n      if (d.found) return d;\n      const dx = d.x - cx,\n        dy = d.y - cy;\n      const dist = Math.hypot(dx, dy);\n      if (dist < d.r) {\n        setCoins(c => c + 1);\n        return _objectSpread(_objectSpread({}, d), {}, {\n          found: true\n        });\n      }\n      return d;\n    }));\n  };\n  const useHint = () => {\n    if (hintsLeft <= 0 || !spotRef.current) return;\n    const hidden = diffs.find(d => !d.found);\n    if (!hidden) return;\n    setHintsLeft(h => h - 1);\n    setCoins(c => Math.max(0, c - 1));\n    const tip = document.createElement(\"div\");\n    Object.assign(tip.style, {\n      position: \"absolute\",\n      left: \"\".concat(hidden.x * 100, \"%\"),\n      top: \"\".concat(hidden.y * 100, \"%\"),\n      transform: \"translate(-50%,-50%)\",\n      width: \"\".concat(hidden.r * 150, \"px\"),\n      height: \"\".concat(hidden.r * 150, \"px\"),\n      border: \"3px dashed \".concat(theme.amarillo),\n      borderRadius: \"50%\",\n      pointerEvents: \"none\"\n    });\n    spotRef.current.appendChild(tip);\n    setTimeout(() => tip.remove(), 1200);\n  };\n\n  /* --F1: Matrix-- */\n  const size = 5;\n  const makeGrid = () => Array.from({\n    length: size\n  }, () => Array.from({\n    length: size\n  }, () => false));\n  const [goal] = useState(() => {\n    const g = makeGrid();\n    [[1, 1], [1, 2], [1, 3], [2, 0], [2, 4], [3, 1], [3, 2], [3, 3], [4, 2]].forEach(_ref1 => {\n      let [r, c] = _ref1;\n      return g[r][c] = true;\n    });\n    return g;\n  });\n  const [grid, setGrid] = useState(() => makeGrid());\n  const [scored, setScored] = useState(() => makeGrid());\n  const toggleCell = (r, c) => {\n    if (!flow.running) return;\n    setGrid(prev => {\n      const next = prev.map(row => row.slice());\n      next[r][c] = !next[r][c];\n      if (next[r][c] === goal[r][c] && !scored[r][c]) {\n        setCoins(cn => cn + 1);\n        setScored(sc => {\n          const cp = sc.map(row => row.slice());\n          cp[r][c] = true;\n          return cp;\n        });\n      }\n      return next;\n    });\n  };\n\n  /* --F2: Empatía-- */\n  const EMPATIA_FIELDS = [{\n    key: \"perfil\",\n    label: \"Perfil\"\n  }, {\n    key: \"entorno\",\n    label: \"Entorno\"\n  }, {\n    key: \"emociones\",\n    label: \"Emociones\"\n  }, {\n    key: \"necesidades\",\n    label: \"Necesidades\"\n  }, {\n    key: \"limitaciones\",\n    label: \"Limitaciones\"\n  }, {\n    key: \"motivaciones\",\n    label: \"Motivaciones\"\n  }];\n  const [empatia, setEmpatia] = useState({\n    perfil: \"\",\n    entorno: \"\",\n    emociones: \"\",\n    necesidades: \"\",\n    limitaciones: \"\",\n    motivaciones: \"\"\n  });\n  const [activeBubble, setActiveBubble] = useState(\"perfil\");\n  const onEmpatiaChange = (k, v) => {\n    setEmpatia(prev => {\n      var _prev$k;\n      const wasEmpty = !((_prev$k = prev[k]) !== null && _prev$k !== void 0 && _prev$k.trim());\n      const next = _objectSpread(_objectSpread({}, prev), {}, {\n        [k]: v\n      });\n      if (wasEmpty && next[k].trim()) setCoins(c => c + 1);\n      return next;\n    });\n  };\n\n  /* --TEMAS/Desafíos */\n  const defaultTHEMES = {\n    salud: {\n      label: \"Salud\",\n      desafios: [{\n        titulo: \"Desafío 1\",\n        descripcion: \"Mejorar acceso a atención básica en barrios alejados.\"\n      }, {\n        titulo: \"Desafío 2\",\n        descripcion: \"Reducir tiempos de espera en consultas no críticas.\"\n      }, {\n        titulo: \"Desafío 3\",\n        descripcion: \"Apoyo a cuidadores de adultos mayores.\"\n      }],\n      persona: {\n        nombre: \"María\",\n        edad: 62,\n        bio: \"Cuida a su pareja con movilidad reducida; vive a 40 min del centro de salud.\"\n      }\n    },\n    sustentabilidad: {\n      label: \"Sustentabilidad\",\n      desafios: [{\n        titulo: \"Desafío 1\",\n        descripcion: \"Disminuir residuos en campus y comunidad.\"\n      }, {\n        titulo: \"Desafío 2\",\n        descripcion: \"Optimizar uso de agua y energía en hogares.\"\n      }, {\n        titulo: \"Desafío 3\",\n        descripcion: \"Movilidad sostenible para trayectos cortos.\"\n      }],\n      persona: {\n        nombre: \"Diego\",\n        edad: 24,\n        bio: \"Estudiante que vive en residencia; quiere reducir su huella y ahorrar.\"\n      }\n    },\n    educacion: {\n      label: \"Educación\",\n      desafios: [{\n        titulo: \"Desafío 1\",\n        descripcion: \"Motivar hábitos de estudio en estudiantes con poco tiempo.\"\n      }, {\n        titulo: \"Desafío 2\",\n        descripcion: \"Facilitar aprendizaje práctico en primer año.\"\n      }, {\n        titulo: \"Desafío 3\",\n        descripcion: \"Mejorar integración de estudiantes internacionales.\"\n      }],\n      persona: {\n        nombre: \"Aisha\",\n        edad: 19,\n        bio: \"Estudiante internacional de primer año; barrera idiomática y poco tiempo.\"\n      }\n    }\n  };\n  const [THEMES, setTHEMES] = useState(() => readJSON(THEMES_KEY, defaultTHEMES));\n  const saveTHEMES = next => {\n    setTHEMES(next);\n    writeJSON(THEMES_KEY, next);\n    try {\n      window.dispatchEvent(new StorageEvent(\"storage\", {\n        key: THEMES_KEY,\n        newValue: JSON.stringify(next)\n      }));\n    } catch (_unused10) {}\n  };\n  const [temaSel, setTemaSel] = useState(\"salud\");\n  const [desafioIndex, setDesafioIndex] = useState(0);\n  const desafioActual = THEMES[temaSel].desafios[desafioIndex];\n\n  /* --Bubbles size-- */\n  const isTabletMedia = useMediaQuery(\"(max-width: 1180px)\");\n  const isMobileMedia = useMediaQuery(\"(max-width: 640px)\");\n  const bubbleSize = isMobileMedia ? 84 : isTabletMedia ? 96 : 108;\n  const centerBubbleSize = isMobileMedia ? 115 : isTabletMedia ? 128 : 138;\n  const bubblePositions = useMemo(() => ({\n    perfil: {\n      left: \"8%\",\n      top: \"12%\"\n    },\n    limitaciones: {\n      left: \"26%\",\n      top: \"8%\"\n    },\n    motivaciones: {\n      right: \"26%\",\n      top: \"8%\"\n    },\n    entorno: {\n      right: \"8%\",\n      top: \"12%\"\n    },\n    emociones: {\n      left: \"10%\",\n      bottom: \"10%\"\n    },\n    necesidades: {\n      right: \"10%\",\n      bottom: \"10%\"\n    }\n  }), [isTabletMedia, isMobileMedia]);\n\n  /* --Alumno F1 Tab-- */\n  const [f1Tab, setF1Tab] = useState(\"spot\");\n\n  /* --UI helpers-- */\n  const VideoSpace = _ref10 => {\n    let {\n      title\n    } = _ref10;\n    return /*#__PURE__*/_jsxDEV(Card, {\n      title: \"Por qu\\xE9 es importante: \".concat(title),\n      subtitle: \"(Video corto explicativo)\",\n      width: 900,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\",\n          aspectRatio: \"16/9\",\n          background: theme.gris,\n          borderRadius: 16,\n          border: \"2px dashed \".concat(theme.border),\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          color: \"#90A4AE\",\n          fontWeight: 700,\n          pointerEvents: \"none\"\n        },\n        children: \"Video aqu\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 5\n    }, this);\n  };\n  const Instructions = _ref11 => {\n    let {\n      title,\n      bullets\n    } = _ref11;\n    return /*#__PURE__*/_jsxDEV(Card, {\n      title: \"Instrucciones\",\n      subtitle: title,\n      width: 900,\n      tight: true,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"left\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"ol\", {\n          children: bullets.map((b, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            dangerouslySetInnerHTML: {\n              __html: b\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 64\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 5\n    }, this);\n  };\n  const BigTimer = _ref12 => {\n    let {\n      label,\n      defaultSec\n    } = _ref12;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: _objectSpread(_objectSpread({}, panelBox), {}, {\n        textAlign: \"center\"\n      }),\n      children: [label && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 900,\n          color: theme.azul,\n          marginBottom: 6\n        },\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 64,\n          fontWeight: 900,\n          letterSpacing: 1,\n          marginBottom: 12\n        },\n        children: mmss(flow.remaining)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 8,\n          justifyContent: \"center\",\n          flexWrap: \"wrap\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Btn, {\n          onClick: () => startTimer(),\n          label: \"\\u25B6 Iniciar\",\n          full: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          onClick: () => pauseTimer(),\n          label: \"\\u23F8 Pausa\",\n          full: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          onClick: () => resetTimer(defaultSec),\n          label: \"\\u27F2 Reset\",\n          full: false,\n          variant: \"outline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 5\n    }, this);\n  };\n\n  /* ===================== SCREENS ===================== */\n\n  {/* --INICIO  */}\n  if (mode === \"inicio\") return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: appStyles,\n    children: [/*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GlobalFormCSS, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AutoCenter, {\n      children: !showAdminLogin ? /*#__PURE__*/_jsxDEV(Card, {\n        title: \"Juego de Emprendimiento UDD\",\n        subtitle: \"Selecciona tu perfil\",\n        width: 900,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 12,\n            marginTop: 12,\n            flexWrap: \"wrap\",\n            justifyContent: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Btn, {\n            onClick: () => setMode(\"prof\"),\n            label: \"\\uD83D\\uDC69\\u200D\\uD83C\\uDFEB Profesor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Btn, {\n            onClick: () => setMode(\"alumno\"),\n            bg: theme.rosa,\n            label: \"\\uD83E\\uDDD1\\u200D\\uD83C\\uDF93 Alumno\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Btn, {\n            onClick: () => {\n              setShowAdminLogin(true);\n              setAdminUser(\"\");\n              setAdminPass(\"\");\n              setAdminErr(\"\");\n            },\n            bg: theme.amarillo,\n            fg: theme.texto,\n            label: \"\\uD83D\\uDEE0\\uFE0F Administrador\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Card, {\n        title: \"Acceso Administrador\",\n        subtitle: \"Ingresa tus credenciales\",\n        width: 520,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gap: 10,\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Usuario\",\n            value: adminUser,\n            onChange: e => setAdminUser(e.target.value),\n            style: baseInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Contrase\\xF1a\",\n            type: \"password\",\n            value: adminPass,\n            onChange: e => setAdminPass(e.target.value),\n            style: baseInput,\n            onKeyDown: e => {\n              if (e.key === \"Enter\") {\n                if (adminUser === \"1\" && adminPass === \"1\") {\n                  setMode(\"admin\");\n                  setShowAdminLogin(false);\n                  setAdminUser(\"\");\n                  setAdminPass(\"\");\n                  setAdminErr(\"\");\n                } else {\n                  setAdminErr(\"Usuario o contraseña incorrectos\");\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), adminErr && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"#D32F2F\",\n              fontWeight: 700,\n              fontSize: 13\n            },\n            children: adminErr\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              gap: 10,\n              justifyContent: \"space-between\",\n              marginTop: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(Btn, {\n              label: \"\\u2B05 Volver\",\n              bg: theme.amarillo,\n              fg: theme.texto,\n              full: false,\n              onClick: () => {\n                setShowAdminLogin(false);\n                setAdminErr(\"\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Btn, {\n              label: \"Ingresar\",\n              full: false,\n              onClick: () => {\n                if (adminUser === \"1\" && adminPass === \"1\") {\n                  setMode(\"admin\");\n                  setShowAdminLogin(false);\n                  setAdminUser(\"\");\n                  setAdminPass(\"\");\n                  setAdminErr(\"\");\n                } else {\n                  setAdminErr(\"Usuario o contraseña incorrectos\");\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 362,\n    columnNumber: 5\n  }, this);\n  {/* --ADMIN-- */}\n  if (mode === \"admin\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: appStyles,\n      children: [/*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 52\n      }, this), /*#__PURE__*/_jsxDEV(GlobalFormCSS, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 65\n      }, this), /*#__PURE__*/_jsxDEV(AutoCenter, {\n        children: /*#__PURE__*/_jsxDEV(AdminDashboard, {\n          analytics: analytics,\n          THEMES: THEMES,\n          setTHEMES: saveTHEMES,\n          flow: flow,\n          onBack: () => setMode(\"inicio\"),\n          ranking: ranking,\n          clearMetrics: () => update(() => ({\n            roomsCreated: 0,\n            challengeUsage: {},\n            teams: [],\n            reflections: [],\n            feedbacks: []\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 81\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 29\n    }, this);\n  }\n  {/* --PROFESOR-- */}\n  if (mode === \"prof\") {\n    var _flow$presentOrder$fl, _flow$presentOrder;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: appStyles,\n      children: [/*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 51\n      }, this), /*#__PURE__*/_jsxDEV(GlobalFormCSS, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 64\n      }, this), /*#__PURE__*/_jsxDEV(AutoCenter, {\n        children: [!flow.roomCode ? /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Crear Nueva Sala\",\n          subtitle: \"Define cantidad de equipos\",\n          width: 820,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"grid\",\n              gridTemplateColumns: \"1fr 1fr\",\n              gap: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: 12,\n                  fontWeight: 800,\n                  color: theme.azul\n                },\n                children: \"Cantidad de equipos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: String(equiposQty),\n                onChange: e => setEquiposQty(Number(e.target.value)),\n                style: _objectSpread(_objectSpread({}, baseInput), {}, {\n                  padding: 10,\n                  marginTop: 6\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"3\",\n                  children: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"4\",\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                alignSelf: \"end\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Btn, {\n                onClick: () => {\n                  const code = generateCode();\n                  writeJSON(READY_KEY, []);\n                  try {\n                    window.dispatchEvent(new StorageEvent(\"storage\", {\n                      key: READY_KEY,\n                      newValue: JSON.stringify([])\n                    }));\n                  } catch (_unused11) {}\n                  writeJSON(COINS_KEY, {});\n                  try {\n                    window.dispatchEvent(new StorageEvent(\"storage\", {\n                      key: COINS_KEY,\n                      newValue: JSON.stringify({})\n                    }));\n                  } catch (_unused12) {}\n                  publish({\n                    roomCode: code,\n                    expectedTeams: equiposQty,\n                    step: \"lobby\",\n                    remaining: 5 * 60,\n                    running: false\n                  });\n                  update(a => _objectSpread(_objectSpread({}, a), {}, {\n                    roomsCreated: a.roomsCreated + 1\n                  }));\n                },\n                bg: theme.rosa,\n                label: \"Generar C\\xF3digo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 3\n        }, this) : null, flow.roomCode && flow.step === \"lobby\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"clamp(320px,92vw,1100px)\",\n            display: \"grid\",\n            gridTemplateColumns: \"1fr 320px\",\n            gap: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            title: \"Sala creada\",\n            subtitle: \"Comparte el c\\xF3digo y espera a los equipos\",\n            width: 700,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 32,\n                fontFamily: \"Roboto Mono, ui-monospace, SFMono-Regular, Menlo, monospace\",\n                marginBottom: 8,\n                color: theme.azul\n              },\n              children: flow.roomCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 13,\n                opacity: .8,\n                marginBottom: 12\n              },\n              children: [\"Equipos listos: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: readyNow\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 25\n              }, this), \" / \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: flow.expectedTeams\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => {\n                if (readyNow < flow.expectedTeams) return;\n                setStep(\"f1_video\");\n              },\n              label: \"Continuar con todos\",\n              disabled: readyNow < flow.expectedTeams\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"grid\",\n              gap: 12,\n              alignContent: \"start\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: panelBox,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: badgeTitle,\n                children: \"\\uD83D\\uDC65 Equipos creados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 9\n              }, this), teamsForCurrentRoom(analytics, flow.roomCode).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  opacity: .7\n                },\n                children: \"A\\xFAn no se crean grupos\\u2026\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 11\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"grid\",\n                  gap: 6\n                },\n                children: teamsForCurrentRoom(analytics, flow.roomCode).map((name, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"grid\",\n                    gridTemplateColumns: \"1fr auto\",\n                    gap: 8\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 520,\n                      columnNumber: 22\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: 12,\n                      opacity: .7\n                    },\n                    children: [\"#\", i + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 17\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 15\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: panelBox,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: badgeTitle,\n                children: \"\\u2705 Marcados \\u201Clisto\\u201D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 9\n              }, this), (() => {\n                const readySet = readyTeamNames(flow.roomCode);\n                const all = teamsForCurrentRoom(analytics, flow.roomCode);\n                const readyList = all.filter(t => readySet.has(t));\n                return readyList.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    opacity: .7\n                  },\n                  children: \"Sin equipos listos a\\xFAn\\u2026\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 13\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"grid\",\n                    gap: 6\n                  },\n                  children: readyList.map((t, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: t\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 539,\n                      columnNumber: 32\n                    }, this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 539,\n                    columnNumber: 17\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 13\n                }, this);\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 3\n        }, this), flow.step === \"f1_video\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(TeamworkMiniAnim, {\n              loop: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => setStep(\"f1_instr\"),\n              label: \"Continuar con todos\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true), flow.step === \"f1_instr\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Instructions, {\n            title: \"Fase 1 \\u2014 Trabajo en equipo\",\n            bullets: [\"Juego 1: <b>Spot the Difference</b>.\", \"Juego 2: <b>Matriz de luces</b>.\", \"El tiempo es compartido; ustedes deciden cómo distribuirlo.\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Btn, {\n            onClick: () => {\n              resetTimer(5 * 60);\n              setStep(\"f1_activity\", 5 * 60);\n            },\n            label: \"Abrir juegos y timer\",\n            full: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true), flow.step === \"f1_activity\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Fase 1 \\u2014 En curso\",\n          subtitle: \"Timer visible para todos\",\n          width: 720,\n          children: [/*#__PURE__*/_jsxDEV(BigTimer, {\n            label: \"Tiempo F1 (Diferencias/Matriz)\",\n            defaultSec: 5 * 60\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 110\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              marginTop: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => setStep(\"f1_rank\"),\n              label: \"Terminar y ver ranking\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 70\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 30\n        }, this), flow.step === \"f1_rank\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Ranking \\u2014 Fase 1\",\n          subtitle: \"Resultados en vivo\",\n          width: 900,\n          children: [/*#__PURE__*/_jsxDEV(ConfettiBurst, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 99\n          }, this), /*#__PURE__*/_jsxDEV(RankingBars, {\n            data: ranking,\n            onContinue: () => setStep(\"f2_video\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 115\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 26\n        }, this), flow.step === \"f2_video\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(EmpathyAnimacion, {\n              loop: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => setStep(\"f2_instr\"),\n              label: \"Continuar con todos\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true), flow.step === \"f2_instr\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Instructions, {\n            title: \"Fase 2 \\u2014 Empat\\xEDa\",\n            bullets: [\"Elige temática y desafío.\", \"Completen el <b>mapa de empatía</b> (10:00).\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Btn, {\n            onClick: () => setStep(\"f2_theme\"),\n            label: \"Ir a Tem\\xE1tica y Desaf\\xEDo\",\n            full: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true), flow.step === \"f2_theme\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Tem\\xE1ticas y desaf\\xEDo\",\n          subtitle: \"Cuando est\\xE9n listos, inicia el mapa\",\n          width: 980,\n          children: [/*#__PURE__*/_jsxDEV(ThemeChallengeSection, {\n            THEMES: THEMES,\n            temaSel: temaSel,\n            setTemaSel: setTemaSel,\n            desafioIndex: desafioIndex,\n            setDesafioIndex: setDesafioIndex,\n            desafioActual: desafioActual,\n            isTablet: isTablet,\n            onContinue: () => {}\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              marginTop: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => {\n                update(a => {\n                  const key = \"\".concat(temaSel, \"#\").concat(desafioIndex);\n                  const usage = _objectSpread({}, a.challengeUsage);\n                  usage[key] = (usage[key] || 0) + 1;\n                  return _objectSpread(_objectSpread({}, a), {}, {\n                    challengeUsage: usage\n                  });\n                });\n                resetTimer(10 * 60);\n                setStep(\"f2_activity\", 10 * 60);\n              },\n              label: \"Abrir mapa y timer\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 27\n        }, this), flow.step === \"f2_activity\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Fase 2 \\u2014 En curso\",\n          subtitle: \"Mapa de empat\\xEDa (timer)\",\n          width: 720,\n          children: [/*#__PURE__*/_jsxDEV(BigTimer, {\n            label: \"Tiempo F2 (Empat\\xEDa)\",\n            defaultSec: 10 * 60\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 109\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              marginTop: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => setStep(\"f2_rank\"),\n              label: \"Terminar y ver ranking\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 70\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 30\n        }, this), flow.step === \"f2_rank\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Ranking \\u2014 Fase 2\",\n          subtitle: \"Resultados en vivo\",\n          width: 900,\n          children: /*#__PURE__*/_jsxDEV(RankingBars, {\n            data: ranking,\n            onContinue: () => setStep(\"f3_video\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 99\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 26\n        }, this), flow.step === \"f3_video\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(CreatividadAnimacion, {\n              loop: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Btn, {\n            onClick: () => {\n              resetTimer(15 * 60);\n              setStep(\"f3_activity\", 15 * 60);\n            },\n            label: \"Abrir actividad y timer\",\n            full: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true), flow.step === \"f3_activity\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Fase 3 \\u2014 En curso\",\n          subtitle: \"Creatividad (timer)\",\n          width: 720,\n          children: [/*#__PURE__*/_jsxDEV(BigTimer, {\n            label: \"Tiempo F3 (Creatividad)\",\n            defaultSec: 15 * 60\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 105\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              marginTop: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => setStep(\"f3_rank\"),\n              label: \"Terminar y ver ranking\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 70\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 30\n        }, this), flow.step === \"f3_rank\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Ranking \\u2014 Fase 3\",\n          subtitle: \"Resultados en vivo\",\n          width: 900,\n          children: /*#__PURE__*/_jsxDEV(RankingBars, {\n            data: ranking,\n            onContinue: () => setStep(\"f4_video\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 99\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 26\n        }, this), flow.step === \"f4_video\" && /*#__PURE__*/_jsxDEV(PitchAnimacion, {\n          showContinue: true,\n          onContinue: () => {\n            resetTimer(10 * 60);\n            setStep(\"f4_prep\", 10 * 60);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 3\n        }, this), flow.step === \"f4_prep\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Fase 4 \\u2014 Preparaci\\xF3n del Pitch\",\n          subtitle: \"Timer visible\",\n          width: 720,\n          children: [/*#__PURE__*/_jsxDEV(BigTimer, {\n            label: \"Tiempo F4 (Preparaci\\xF3n)\",\n            defaultSec: 10 * 60\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              marginTop: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => setStep(\"f4_wheel\"),\n              label: \"Ir a RUEDA de orden\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 3\n        }, this), flow.step === \"f4_wheel\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Fase 4 \\u2014 Orden de Presentaci\\xF3n\",\n          subtitle: \"Gira la ruleta o genera orden aleatorio\",\n          width: 980,\n          children: /*#__PURE__*/_jsxDEV(WheelOrder, {\n            teams: getTeamsForRoom(analytics, flow.roomCode),\n            onConfirm: order => {\n              publish({\n                presentOrder: order,\n                currentIdx: 0\n              });\n              resetTimer(flow.pitchSeconds);\n              setStep(\"f4_present\", flow.pitchSeconds);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 3\n        }, this), flow.step === \"f4_present\" && /*#__PURE__*/_jsxDEV(PresentStageTeacher, {\n          currentTeam: (_flow$presentOrder$fl = (_flow$presentOrder = flow.presentOrder) === null || _flow$presentOrder === void 0 ? void 0 : _flow$presentOrder[flow.currentIdx]) !== null && _flow$presentOrder$fl !== void 0 ? _flow$presentOrder$fl : \"-\",\n          pitchSec: flow.pitchSeconds,\n          startTimer: () => startTimer(),\n          pauseTimer: () => pauseTimer(),\n          resetTimer: s => resetTimer(s),\n          remaining: flow.remaining,\n          onNext: () => {\n            const nextIdx = flow.currentIdx + 1;\n            if (nextIdx >= flow.presentOrder.length) {\n              setStep(\"f5_video\");\n            } else {\n              publish({\n                currentIdx: nextIdx\n              });\n              resetTimer(flow.pitchSeconds);\n              setStep(\"f4_present\", flow.pitchSeconds);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 3\n        }, this), flow.step === \"f5_video\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(VideoSpace, {\n            title: \"Evaluaci\\xF3n y retroalimentaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              marginTop: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => setStep(\"f5_eval\"),\n              label: \"Abrir evaluaci\\xF3n\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true), flow.step === \"f5_eval\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Fase 5 \\u2014 Evaluaci\\xF3n\",\n          subtitle: \"Cada equipo califica a los dem\\xE1s\",\n          width: 900,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 13,\n              opacity: .8,\n              marginBottom: 12\n            },\n            children: \"Los estudiantes ver\\xE1n una interfaz con 6 criterios (deslizadores 0\\u20135) y comentario opcional. Cada punto suma 1 moneda al equipo evaluado.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              gap: 10,\n              justifyContent: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => setStep(\"f5_rank\"),\n              label: \"Ver ranking actualizado\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 3\n        }, this), flow.step === \"f5_rank\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Ranking \\u2014 Fase 5\",\n          subtitle: \"Resultados en vivo\",\n          width: 900,\n          children: /*#__PURE__*/_jsxDEV(RankingBars, {\n            data: ranking,\n            onContinue: () => setStep(\"f6_video\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 3\n        }, this), flow.step === \"f6_video\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(VideoSpace, {\n            title: \"Cierre y reflexi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Btn, {\n            onClick: () => setStep(\"f6_close\"),\n            label: \"Ir a cierre\",\n            full: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true), flow.step === \"f6_close\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Cierre y Apoyo\",\n          subtitle: \"Reflexi\\xF3n final (demo)\",\n          width: 900,\n          tight: true,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"left\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginTop: 0\n              },\n              children: \"\\uD83C\\uDF89 \\xA1Felicitaciones! Pidan a cada equipo escribir su reflexi\\xF3n final.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"(Vista profesor) \\u2014 Aqu\\xED solo mostramos un ejemplo\",\n              style: _objectSpread(_objectSpread({}, baseInput), {}, {\n                minHeight: 120\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              gap: 10,\n              marginTop: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => setStep(\"qr\"),\n              bg: theme.azul,\n              label: \"Ir a QR\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 3\n        }, this), flow.step === \"qr\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\\xA1Eval\\xFAa el juego!\",\n          subtitle: \"Escanea el c\\xF3digo QR con tu celular\",\n          width: 700,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 260,\n              height: 260,\n              margin: \"12px auto\",\n              background: \"#fff\",\n              border: \"3px dashed \".concat(theme.border),\n              borderRadius: 16,\n              display: \"grid\",\n              placeItems: \"center\",\n              color: \"#90A4AE\",\n              fontWeight: 800\n            },\n            children: \"QR aqu\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Btn, {\n            onClick: () => {\n              // reset de sala\n              publish({\n                roomCode: \"\",\n                expectedTeams: 0,\n                step: \"lobby\",\n                remaining: 5 * 60,\n                running: false\n              });\n              clearReadyForRoom();\n              writeJSON(COINS_KEY, {});\n              try {\n                window.dispatchEvent(new StorageEvent(\"storage\", {\n                  key: COINS_KEY,\n                  newValue: JSON.stringify({})\n                }));\n              } catch (_unused13) {}\n            },\n            bg: theme.rosa,\n            label: \"Terminar\",\n            full: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 80\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 28\n    }, this);\n  }\n  {/* ================= ALUMNO ================= */}\n  if (mode === \"alumno\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: appStyles,\n      children: [/*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 51\n      }, this), /*#__PURE__*/_jsxDEV(GlobalFormCSS, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 64\n      }, this), /*#__PURE__*/_jsxDEV(AutoCenter, {\n        children: [(!joinedRoom || joinedRoom !== flow.roomCode) && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Alumno\",\n          subtitle: \"Ingresa el c\\xF3digo de sala para continuar\",\n          width: 520,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"C\\xF3digo de sala\",\n            value: roomCode,\n            onChange: e => setRoomCode(e.target.value.toUpperCase()),\n            style: _objectSpread(_objectSpread({}, baseInput), {}, {\n              textAlign: \"center\",\n              fontWeight: 700,\n              marginBottom: 14\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Btn, {\n            onClick: () => {\n              const f = readJSON(FLOW_KEY, initialFlow);\n              if (!f.roomCode) {\n                alert(\"Aún no hay sala activa. Espera al profesor.\");\n                return;\n              }\n              if (f.roomCode !== roomCode.trim()) {\n                alert(\"Código incorrecto. Verifica con el profesor.\");\n                return;\n              }\n              sessionStorage.setItem(JOINED_KEY, f.roomCode);\n              setJoinedRoom(f.roomCode);\n            },\n            label: \"Entrar a la sala\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Btn, {\n            onClick: () => setMode(\"inicio\"),\n            bg: theme.amarillo,\n            fg: theme.texto,\n            label: \"\\u2B05 Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 3\n        }, this), joinedRoom === flow.roomCode && flow.roomCode && !teamReady && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Sala \".concat(flow.roomCode),\n          subtitle: \"Crea tu grupo y marca listo\",\n          width: 980,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"grid\",\n              gridTemplateColumns: isTablet ? \"1fr\" : \"1fr 1fr auto\",\n              gap: 10,\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Nombre de grupo\",\n              value: groupName,\n              onChange: e => setGroupName(e.target.value),\n              style: baseInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 780,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr\",\n                gap: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Tu nombre\",\n                value: miNombre,\n                onChange: e => setMiNombre(e.target.value),\n                style: baseInput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 782,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Tu carrera\",\n                value: miCarrera,\n                onChange: e => setMiCarrera(e.target.value),\n                style: baseInput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => {\n                if (!groupName.trim()) {\n                  alert(\"Primero escribe el nombre del grupo.\");\n                  return;\n                }\n                setIntegrantes(arr => [...arr, {\n                  nombre: miNombre || \"Integrante\",\n                  carrera: miCarrera || \"—\"\n                }]);\n                setMiNombre(\"\");\n                setMiCarrera(\"\");\n              },\n              bg: theme.rosa,\n              label: \"Agregar integrante\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"left\",\n              maxHeight: 220,\n              overflowY: \"auto\",\n              padding: 8,\n              border: \"1px dashed \".concat(theme.border),\n              borderRadius: 12,\n              background: \"#fff\"\n            },\n            children: [integrantes.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                opacity: .7\n              },\n              children: \"A\\xFAn no hay integrantes\\u2026\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 802,\n              columnNumber: 35\n            }, this), integrantes.map((p, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"grid\",\n                gridTemplateColumns: \"40px 1fr 1fr\",\n                gap: 10,\n                padding: \"8px 0\",\n                alignItems: \"center\",\n                borderBottom: i < integrantes.length - 1 ? \"1px solid #eee\" : \"none\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 800,\n                  color: theme.azul\n                },\n                children: [i + 1, \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 805,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 700\n                },\n                children: p.nombre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 806,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  opacity: .8\n                },\n                children: p.carrera\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 807,\n                columnNumber: 11\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 804,\n              columnNumber: 9\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 801,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              gap: 10,\n              marginTop: 12,\n              justifyContent: \"space-between\",\n              flexWrap: \"wrap\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => setMode(\"inicio\"),\n              bg: theme.amarillo,\n              fg: theme.texto,\n              label: \"\\u2B05 Back\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: markReady,\n              label: \"Marcar listo y esperar al profesor\",\n              full: false,\n              disabled: !groupName.trim()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 812,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 3\n        }, this), joinedRoom === flow.roomCode && flow.roomCode && teamReady && flow.step === \"lobby\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Esperando al profesor\",\n          subtitle: \"A\\xFAn no inicia la fase 1\",\n          width: 720,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: 18,\n              padding: 20\n            },\n            children: \"\\u23F3 Esperando a que el profesor comience...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 822,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"center\",\n              opacity: .7,\n              fontSize: 14\n            },\n            children: [\"Verifica en la sala del profesor que tu grupo aparece como \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"listo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 66\n            }, this), \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 3\n        }, this), flow.step === \"f1_video\" && /*#__PURE__*/_jsxDEV(TeamworkMiniAnim, {\n          onContinue: () => setStep(\"f1_instr\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 26\n        }, this), flow.step === \"f1_instr\" && /*#__PURE__*/_jsxDEV(Instructions, {\n          title: \"Fase 1 \\u2014 Trabajo en equipo\",\n          bullets: [\"El profesor controla el tiempo y el avance.\", \"Usa las pestañas para cambiar entre <b>Diferencias</b> y <b>Matriz</b>.\", \"Ambos comparten el mismo temporizador.\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 833,\n          columnNumber: 26\n        }, this), flow.step === \"f1_activity\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Fase 1 \\u2014 Actividades\",\n          subtitle: \"Tiempo: \".concat(mmss(flow.remaining), \" \\xB7 Monedas: \").concat(coins),\n          width: 1100,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"sticky\",\n              top: 12,\n              zIndex: 5,\n              background: \"transparent\",\n              paddingBottom: 6,\n              marginBottom: 10\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                gap: 8,\n                overflowX: \"auto\"\n              },\n              children: [{\n                key: \"spot\",\n                label: \"🔎 Diferencias\"\n              }, {\n                key: \"matrix\",\n                label: \"🔲 Matriz\"\n              }].map(t => {\n                const active = f1Tab === t.key;\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setF1Tab(t.key),\n                  style: {\n                    padding: \"8px 12px\",\n                    borderRadius: 12,\n                    border: \"2px solid \".concat(active ? theme.rosa : theme.border),\n                    background: active ? \"#FFF3F7\" : \"#fff\",\n                    fontWeight: 800,\n                    cursor: \"pointer\",\n                    whiteSpace: \"nowrap\"\n                  },\n                  children: t.label\n                }, t.key, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 842,\n                  columnNumber: 13\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 838,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 5\n          }, this), f1Tab === \"spot\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 13,\n                marginBottom: 8,\n                opacity: .9\n              },\n              children: [\"Toca en la \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"imagen izquierda\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 852,\n                columnNumber: 73\n              }, this), \" donde veas una diferencia. Puedes usar hasta 2 pistas (\\u22121 moneda).\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"grid\",\n                gridTemplateColumns: isTablet ? \"1fr\" : \"1fr 1fr\",\n                gap: 16\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                ref: spotRef,\n                onClick: clickSpot,\n                style: {\n                  position: \"relative\",\n                  width: \"100%\",\n                  aspectRatio: \"16/7\",\n                  background: \"#fff\",\n                  borderRadius: 16,\n                  overflow: \"hidden\",\n                  cursor: flow.running ? \"crosshair\" : \"not-allowed\",\n                  border: \"1px solid \".concat(theme.border)\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  viewBox: \"0 0 100 100\",\n                  preserveAspectRatio: \"none\",\n                  style: {\n                    position: \"absolute\",\n                    inset: 0,\n                    width: \"100%\",\n                    height: \"100%\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                    x: \"5\",\n                    y: \"10\",\n                    width: \"20\",\n                    height: \"20\",\n                    fill: \"#90CAF9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 857,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: \"50\",\n                    cy: \"25\",\n                    r: \"10\",\n                    fill: \"#F48FB1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 857,\n                    columnNumber: 73\n                  }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n                    points: \"80,15 90,35 70,35\",\n                    fill: \"#A5D6A7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 858,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n                    points: \"30,70 40,90 20,90\",\n                    fill: theme.amarillo\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 858,\n                    columnNumber: 67\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 856,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    position: \"absolute\",\n                    inset: 0,\n                    display: \"grid\",\n                    gridTemplateColumns: \"1fr 1fr\",\n                    gridTemplateRows: \"1fr 1fr\"\n                  },\n                  children: [\"A\", \"B\", \"C\", \"D\"].map(z => /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      outline: \"1px dashed rgba(0,0,0,.06)\",\n                      padding: 6,\n                      fontSize: 12,\n                      color: \"#78909C\"\n                    },\n                    children: z\n                  }, z, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 862,\n                    columnNumber: 17\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 860,\n                  columnNumber: 13\n                }, this), diffs.filter(d => d.found).map((d, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    position: \"absolute\",\n                    left: \"\".concat(d.x * 100, \"%\"),\n                    top: \"\".concat(d.y * 100, \"%\"),\n                    transform: \"translate(-50%,-50%)\",\n                    width: d.r * 200,\n                    height: d.r * 200,\n                    borderRadius: \"50%\",\n                    border: \"3px solid \".concat(theme.rosa),\n                    boxShadow: \"0 0 0 4px rgba(233,30,99,.2)\"\n                  }\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 866,\n                  columnNumber: 15\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: _objectSpread(_objectSpread({\n                  position: \"relative\",\n                  width: \"100%\",\n                  aspectRatio: \"16/7\"\n                }, panelBox), {}, {\n                  overflow: \"hidden\"\n                }),\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  viewBox: \"0 0 100 100\",\n                  preserveAspectRatio: \"none\",\n                  style: {\n                    position: \"absolute\",\n                    inset: 0,\n                    width: \"100%\",\n                    height: \"100%\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                    x: \"5\",\n                    y: \"10\",\n                    width: \"20\",\n                    height: \"22\",\n                    fill: \"#90CAF9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 872,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: \"50\",\n                    cy: \"25\",\n                    r: \"9\",\n                    fill: \"#F48FB1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 872,\n                    columnNumber: 73\n                  }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n                    points: \"82,17 92,37 72,37\",\n                    fill: \"#A5D6A7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 873,\n                    columnNumber: 15\n                  }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                    x: \"22\",\n                    y: \"80\",\n                    width: \"16\",\n                    height: \"8\",\n                    fill: theme.amarillo\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 873,\n                    columnNumber: 67\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                gap: 10,\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                marginTop: 12,\n                flexWrap: \"wrap\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 13,\n                  opacity: .8\n                },\n                children: [\"Encontradas: \", diffs.filter(d => d.found).length, \"/4 \\xB7 Pistas: \", hintsLeft]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 878,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Btn, {\n                onClick: useHint,\n                bg: theme.amarillo,\n                fg: theme.texto,\n                label: \"\\uD83D\\uDCA1 Pista (\\u22121)\",\n                full: false,\n                disabled: hintsLeft <= 0 || !flow.running\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 879,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 877,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 13,\n                marginBottom: 8,\n                opacity: .9\n              },\n              children: [\"Reproduce el \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"patr\\xF3n objetivo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 75\n              }, this), \" en tu tablero. El tiempo sigue corriendo.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"grid\",\n                gridTemplateColumns: isTablet ? \"1fr\" : \"1fr 1fr\",\n                gap: 16,\n                alignItems: \"start\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: panelBox,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: badgeTitle,\n                  children: \"Patr\\xF3n objetivo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 887,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(GridView, {\n                  readOnly: true,\n                  grid: goal,\n                  size: 5,\n                  onClickCell: () => {}\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: smallHint,\n                  children: [\"Celdas encendidas: \", goal.flat().filter(Boolean).length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 889,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: panelBox,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: badgeTitle,\n                  children: \"Tablero del equipo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 892,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(GridView, {\n                  grid: grid,\n                  size: 5,\n                  onClickCell: toggleCell\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 893,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: smallHint,\n                  children: [\"Progreso: \", grid.flat().filter((v, i) => v === goal.flat()[i]).length, \"/\", 5 * 5, \" coincidencias\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 894,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 891,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 3\n        }, this), flow.step === \"f1_rank\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Ranking \\u2014 Fase 1\",\n          subtitle: \"Resultados en vivo\",\n          width: 900,\n          children: /*#__PURE__*/_jsxDEV(RankingBars, {\n            data: ranking,\n            onContinue: () => setStep(\"f2_video\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 904,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 903,\n          columnNumber: 3\n        }, this), flow.step === \"f2_video\" && /*#__PURE__*/_jsxDEV(EmpathyAnimacion, {\n          loop: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 28\n        }, this), flow.step === \"f2_instr\" && /*#__PURE__*/_jsxDEV(Instructions, {\n          title: \"Fase 2 \\u2014 Empat\\xEDa\",\n          bullets: [\"El profesor anunciará la temática/desafío.\", \"Completa el mapa de empatía. El tiempo lo controla el profesor.\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 909,\n          columnNumber: 26\n        }, this), flow.step === \"f2_theme\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Tem\\xE1tica y desaf\\xEDo\",\n          subtitle: \"Esperando al profesor para iniciar el mapa\",\n          width: 980,\n          children: /*#__PURE__*/_jsxDEV(ThemeChallengeSection, {\n            THEMES: THEMES,\n            temaSel: temaSel,\n            setTemaSel: setTemaSel,\n            desafioIndex: desafioIndex,\n            setDesafioIndex: setDesafioIndex,\n            desafioActual: desafioActual,\n            isTablet: isTablet,\n            onContinue: () => {}\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 912,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 3\n        }, this), flow.step === \"f2_activity\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Etapa 2 \\u2014 \".concat(THEMES[temaSel].label, \": \").concat(desafioActual.titulo),\n          subtitle: \"Tiempo: \".concat(mmss(flow.remaining), \" \\xB7 Monedas: \").concat(coins),\n          width: 1100,\n          children: /*#__PURE__*/_jsxDEV(EmpathySection, {\n            isTablet: isTablet,\n            isMobile: isMobile,\n            bubbleSize: bubbleSize,\n            centerBubbleSize: centerBubbleSize,\n            bubblePositions: bubblePositions,\n            EMPATIA_FIELDS: EMPATIA_FIELDS,\n            empatia: empatia,\n            setActiveBubble: setActiveBubble,\n            activeBubble: activeBubble,\n            onEmpatiaChange: onEmpatiaChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 916,\n          columnNumber: 3\n        }, this), flow.step === \"f2_rank\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Ranking \\u2014 Fase 2\",\n          subtitle: \"Resultados en vivo\",\n          width: 900,\n          children: /*#__PURE__*/_jsxDEV(RankingBars, {\n            data: ranking,\n            onContinue: () => setStep(\"f3_video\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 929,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 928,\n          columnNumber: 3\n        }, this), flow.step === \"f3_video\" && /*#__PURE__*/_jsxDEV(CreatividadAnimacion, {\n          loop: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 933,\n          columnNumber: 28\n        }, this), flow.step === \"f3_activity\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Etapa 3 \\u2014 Creatividad (LEGO)\",\n          subtitle: \"Tiempo: \".concat(mmss(flow.remaining), \" \\xB7 Monedas: \").concat(coins),\n          width: 900,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"grid\",\n              gridTemplateColumns: isTablet ? \"1fr\" : \"1fr 1fr\",\n              gap: 10,\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginTop: 0\n                },\n                children: \"Sube una foto de tu soluci\\xF3n (demo):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginTop: 0\n                },\n                children: \"Mini-retos (3 monedas c/u):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 942,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"grid\",\n                  gap: 8\n                },\n                children: [\"Prototipo montado\", \"Solución explicada\", \"Foto clara\"].map(r => /*#__PURE__*/_jsxDEV(Btn, {\n                  onClick: () => setCoins(c => c + 3),\n                  bg: \"#C8E6C9\",\n                  fg: \"#1B5E20\",\n                  label: \"\\u2714 \".concat(r)\n                }, r, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 945,\n                  columnNumber: 13\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 943,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 941,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 936,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 935,\n          columnNumber: 3\n        }, this), flow.step === \"f3_rank\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Ranking \\u2014 Fase 3\",\n          subtitle: \"Resultados en vivo\",\n          width: 900,\n          children: /*#__PURE__*/_jsxDEV(RankingBars, {\n            data: ranking,\n            onContinue: () => setStep(\"f4_video\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 954,\n          columnNumber: 3\n        }, this), flow.step === \"f4_video\" && /*#__PURE__*/_jsxDEV(PitchAnimacion, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 959,\n          columnNumber: 27\n        }, this), flow.step === \"f4_prep\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Etapa 4 \\u2014 Comunicaci\\xF3n (preparaci\\xF3n)\",\n          subtitle: \"Tiempo: \".concat(mmss(flow.remaining)),\n          width: 1100,\n          tight: true,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"grid\",\n              gridTemplateColumns: isTablet ? \"1fr\" : \"380px 1fr\",\n              gap: 12,\n              textAlign: \"left\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: _objectSpread({}, panelBox),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: badgeTitle,\n                children: \"Estructura recomendada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 964,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n                style: {\n                  marginTop: 0,\n                  paddingLeft: 18\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Hook\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 966,\n                    columnNumber: 15\n                  }, this), \" (problema en 1 frase)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 966,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Usuario\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 967,\n                    columnNumber: 15\n                  }, this), \" y evidencia breve\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 967,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Soluci\\xF3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 968,\n                    columnNumber: 15\n                  }, this), \" y c\\xF3mo funciona\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 968,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Valor\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 969,\n                    columnNumber: 15\n                  }, this), \" (qu\\xE9 mejora, m\\xE9tricas)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 969,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Impacto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 970,\n                    columnNumber: 15\n                  }, this), \" y pr\\xF3ximos pasos\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 970,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 965,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 963,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: _objectSpread({}, panelBox),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: badgeTitle,\n                children: \"Borrador del pitch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 974,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                placeholder: \"Escribe tu pitch...\",\n                style: _objectSpread(_objectSpread({}, baseInput), {}, {\n                  minHeight: 260\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 975,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 973,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 962,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 961,\n          columnNumber: 3\n        }, this), flow.step === \"f4_present\" && /*#__PURE__*/_jsxDEV(EvaluationPanelStudent, {\n          roomCode: flow.roomCode,\n          teams: getTeamsForRoom(analytics, flow.roomCode),\n          analyticsUpdate: update,\n          fromTeam: teamId.split(\"::\")[1] || \"Equipo\",\n          bare: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 981,\n          columnNumber: 3\n        }, this), flow.step === \"f5_video\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\\xA1Eval\\xFAa el juego!\",\n          subtitle: \"Escanea el c\\xF3digo QR con tu celular\",\n          width: 700,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 260,\n              height: 260,\n              margin: \"12px auto\",\n              background: \"#fff\",\n              border: \"3px dashed \".concat(theme.border),\n              borderRadius: 16,\n              display: \"grid\",\n              placeItems: \"center\",\n              color: \"#90A4AE\",\n              fontWeight: 800\n            },\n            children: \"QR aqu\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 992,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 991,\n          columnNumber: 3\n        }, this), flow.step === \"f5_rank\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Ranking \\u2014 Fase 5\",\n          subtitle: \"Resultados en vivo\",\n          width: 900,\n          children: /*#__PURE__*/_jsxDEV(RankingBars, {\n            data: ranking,\n            onContinue: () => setStep(\"f6_video\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1015,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 3\n        }, this), flow.step === \"f6_video\" && /*#__PURE__*/_jsxDEV(VideoSpace, {\n          title: \"Cierre y reflexi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1019,\n          columnNumber: 27\n        }, this), flow.step === \"f6_close\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Cierre y Apoyo\",\n          subtitle: \"Monedas finales: \".concat(coins),\n          width: 900,\n          tight: true,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"left\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginTop: 0\n              },\n              children: \"\\uD83C\\uDF89 \\xA1Felicitaciones! Escribe tu reflexi\\xF3n final.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1023,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"reflexionText\",\n              placeholder: \"Escribe tu reflexi\\xF3n...\",\n              style: _objectSpread(_objectSpread({}, baseInput), {}, {\n                minHeight: 120\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n                marginTop: 8\n              },\n              children: /*#__PURE__*/_jsxDEV(Btn, {\n                label: \"Enviar reflexi\\xF3n\",\n                full: false,\n                onClick: () => {\n                  const ta = document.getElementById(\"reflexionText\");\n                  const text = ((ta === null || ta === void 0 ? void 0 : ta.value) || \"\").trim();\n                  if (!text) {\n                    alert(\"Escribe una reflexión primero\");\n                    return;\n                  }\n                  const teamName = teamId.split(\"::\")[1] || \"Equipo\";\n                  update(a => _objectSpread(_objectSpread({}, a), {}, {\n                    reflections: [...a.reflections, {\n                      roomCode: flow.roomCode,\n                      teamName,\n                      text,\n                      ts: Date.now()\n                    }]\n                  }));\n                  alert(\"¡Gracias! Reflexión registrada.\");\n                  if (ta) ta.value = \"\";\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1026,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1025,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1022,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1021,\n          columnNumber: 3\n        }, this), flow.step === \"qr\" && /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\\xA1Eval\\xFAa el juego!\",\n          subtitle: \"Escanea el c\\xF3digo QR con tu celular\",\n          width: 700,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 260,\n              height: 260,\n              margin: \"12px auto\",\n              background: \"#fff\",\n              border: \"3px dashed \".concat(theme.border),\n              borderRadius: 16,\n              display: \"grid\",\n              placeItems: \"center\",\n              color: \"#90A4AE\",\n              fontWeight: 800\n            },\n            children: \"QR aqu\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1044,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1043,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 80\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 745,\n      columnNumber: 28\n    }, this);\n  }\n  return null;\n}\n\n/* ===================== REUSABLES ===================== */\n_s5(App, \"JQ07/GBY5iNH3ID1Hmj6iouBzzE=\", false, function () {\n  return [useMediaQuery, useMediaQuery, useSharedFlow, useStorageSignal, useAnalytics, useMediaQuery, useMediaQuery];\n});\n_c1 = App;\nfunction GridView(_ref13) {\n  _s6();\n  let {\n    grid,\n    size,\n    onClickCell,\n    readOnly\n  } = _ref13;\n  const isTablet = useMediaQuery(\"(max-width: 1180px)\");\n  const isMobile = useMediaQuery(\"(max-width: 640px)\");\n  const cell = isMobile ? 22 : isTablet ? 28 : 34;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"grid\",\n      gridTemplateColumns: \"repeat(\".concat(size, \", \").concat(cell, \"px)\"),\n      gap: 6,\n      justifyContent: \"center\"\n    },\n    children: grid.map((row, r) => row.map((on, c) => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => !readOnly && onClickCell(r, c),\n      style: {\n        width: cell,\n        height: cell,\n        borderRadius: 8,\n        border: \"1px solid \".concat(theme.border),\n        background: on ? theme.rosa : \"#FFFFFF\",\n        boxShadow: on ? \"inset 0 0 0 3px rgba(233,30,99,.15)\" : \"none\",\n        cursor: readOnly ? \"default\" : \"pointer\"\n      }\n    }, \"\".concat(r, \"-\").concat(c), false, {\n      fileName: _jsxFileName,\n      lineNumber: 1058,\n      columnNumber: 7\n    }, this)))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1056,\n    columnNumber: 10\n  }, this);\n}\n\n/* --Tema/Desafío UI-- */\n_s6(GridView, \"oOdoUvU6oyocsxl++f6OfBOJ/JM=\", false, function () {\n  return [useMediaQuery, useMediaQuery];\n});\n_c10 = GridView;\nfunction ThemeChallengeSection(_ref14) {\n  let {\n    THEMES,\n    temaSel,\n    setTemaSel,\n    desafioIndex,\n    setDesafioIndex,\n    desafioActual,\n    isTablet,\n    onContinue\n  } = _ref14;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        justifyContent: \"center\",\n        marginBottom: 12,\n        flexWrap: \"wrap\",\n        position: \"relative\",\n        zIndex: 3\n      },\n      children: Object.keys(THEMES).map(key => {\n        const active = temaSel === key;\n        return /*#__PURE__*/_jsxDEV(Btn, {\n          onClick: () => setTemaSel(key),\n          bg: active ? theme.azul : \"#BBDEFB\",\n          fg: active ? theme.blanco : theme.texto,\n          label: THEMES[key].label,\n          full: false\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1066,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: isTablet ? \"1fr\" : \"280px 1fr 360px\",\n        gap: 16,\n        alignItems: \"start\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: panelBox,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: _objectSpread(_objectSpread({}, badgeTitle), {}, {\n            marginBottom: 8\n          }),\n          children: \"Desaf\\xEDos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1076,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gap: 8\n          },\n          children: THEMES[temaSel].desafios.map((d, idx) => {\n            const active = desafioIndex === idx;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setDesafioIndex(idx),\n              style: {\n                textAlign: \"left\",\n                padding: 10,\n                borderRadius: 12,\n                border: \"2px solid \".concat(active ? theme.rosa : theme.border),\n                background: active ? \"#FFF3F7\" : \"#fff\",\n                fontWeight: 700,\n                cursor: \"pointer\"\n              },\n              children: d.titulo\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1081,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1077,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1075,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: _objectSpread(_objectSpread({}, panelBox), {}, {\n          padding: 10\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: _objectSpread(_objectSpread({}, badgeTitle), {}, {\n            marginBottom: 6\n          }),\n          children: \"Video de contexto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1089,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\",\n            aspectRatio: \"16/9\",\n            background: theme.surfaceAlt,\n            borderRadius: 12,\n            border: \"2px dashed \".concat(theme.border),\n            display: \"grid\",\n            placeItems: \"center\",\n            color: \"#90A4AE\",\n            fontWeight: 700,\n            pointerEvents: \"none\"\n          },\n          children: \"Video aqu\\xED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1090,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1088,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: _objectSpread(_objectSpread({}, panelBox), {}, {\n          textAlign: \"left\",\n          padding: 16\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 900,\n            color: theme.rosa,\n            marginBottom: 6\n          },\n          children: desafioActual.titulo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1093,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginTop: 0\n          },\n          children: desafioActual.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1094,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gridTemplateColumns: \"auto 1fr\",\n            gap: 12,\n            alignItems: \"center\",\n            background: \"#FAFAFA\",\n            padding: 10,\n            borderRadius: 12,\n            border: \"1px solid #eee\",\n            marginBottom: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 56,\n              height: 56,\n              borderRadius: \"50%\",\n              background: theme.rosa,\n              color: theme.blanco,\n              display: \"grid\",\n              placeItems: \"center\",\n              fontWeight: 900,\n              boxShadow: \"0 0 0 4px rgba(233,30,99,.15)\"\n            },\n            children: THEMES[temaSel].persona.nombre.charAt(0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 800,\n                color: theme.azul\n              },\n              children: [THEMES[temaSel].persona.nombre, \" \\xB7 \", THEMES[temaSel].persona.edad, \" a\\xF1os\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1100,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 13,\n                opacity: .85\n              },\n              children: THEMES[temaSel].persona.bio\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1101,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1099,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"flex-end\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Btn, {\n            onClick: onContinue,\n            label: \"Elegir y continuar\",\n            full: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1104,\n            columnNumber: 65\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1104,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1092,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1074,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n/* ===================== REUSABLES (resto de componentes) ===================== */\n\n/* --(mapa de empatía) -- */\n_c11 = ThemeChallengeSection;\nfunction EmpathySection(props) {\n  var _EMPATIA_FIELDS$find, _EMPATIA_FIELDS$find2;\n  const {\n    isTablet,\n    isMobile,\n    bubbleSize,\n    centerBubbleSize,\n    bubblePositions,\n    EMPATIA_FIELDS,\n    empatia,\n    setActiveBubble,\n    activeBubble,\n    onEmpatiaChange\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"grid\",\n      gridTemplateColumns: isTablet ? \"1fr\" : \"420px 1fr\",\n      gap: 16,\n      textAlign: \"left\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: _objectSpread(_objectSpread({\n        position: \"relative\",\n        height: isMobile ? 300 : 340\n      }, panelBox), {}, {\n        overflow: \"hidden\"\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          left: \"50%\",\n          top: \"55%\",\n          transform: \"translate(-50%,-50%)\",\n          width: centerBubbleSize,\n          height: centerBubbleSize,\n          borderRadius: \"50%\",\n          background: \"#FFF3F7\",\n          border: \"3px solid \".concat(theme.rosa),\n          display: \"grid\",\n          placeItems: \"center\",\n          fontWeight: 900,\n          color: theme.rosa,\n          textAlign: \"center\",\n          padding: 12\n        },\n        children: \"Persona\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1124,\n        columnNumber: 9\n      }, this), EMPATIA_FIELDS.map(f => {\n        var _empatia$f$key;\n        const filled = !!((_empatia$f$key = empatia[f.key]) !== null && _empatia$f$key !== void 0 && _empatia$f$key.trim());\n        const active = activeBubble === f.key;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveBubble(f.key),\n          style: _objectSpread(_objectSpread({\n            position: \"absolute\"\n          }, bubblePositions[f.key] || {}), {}, {\n            width: bubbleSize,\n            height: bubbleSize,\n            borderRadius: \"50%\",\n            border: \"3px solid \".concat(active ? theme.azul : theme.rosa),\n            background: filled ? \"#E1F5FE\" : \"#FFFDE7\",\n            color: theme.texto,\n            fontWeight: 800,\n            cursor: \"pointer\",\n            boxShadow: active ? \"0 0 0 6px rgba(25,118,210,.15)\" : \"0 6px 14px rgba(0,0,0,.08)\"\n          }),\n          title: f.label,\n          children: [filled ? \"✔ \" : \"\", f.label]\n        }, f.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1140,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: panelBox,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 900,\n          color: theme.azul,\n          marginBottom: 6\n        },\n        children: (_EMPATIA_FIELDS$find = EMPATIA_FIELDS.find(x => x.key === activeBubble)) === null || _EMPATIA_FIELDS$find === void 0 ? void 0 : _EMPATIA_FIELDS$find.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: empatia[activeBubble],\n        onChange: e => onEmpatiaChange(activeBubble, e.target.value),\n        placeholder: \"Escribe sobre \".concat((_EMPATIA_FIELDS$find2 = EMPATIA_FIELDS.find(x => x.key === activeBubble)) === null || _EMPATIA_FIELDS$find2 === void 0 ? void 0 : _EMPATIA_FIELDS$find2.label, \"...\"),\n        style: _objectSpread(_objectSpread({}, baseInput), {}, {\n          minHeight: 160\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 12,\n          opacity: .75,\n          marginTop: 8\n        },\n        children: \"Consejos: ejemplos concretos, verbos en acci\\xF3n, datos o citas del usuario.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 13,\n          opacity: .85,\n          marginTop: 12\n        },\n        children: [\"Completadas: \", EMPATIA_FIELDS.filter(f => empatia[f.key].trim()).length, \"/\", EMPATIA_FIELDS.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1122,\n    columnNumber: 5\n  }, this);\n}\n\n/* --Confetti-- */\n_c12 = EmpathySection;\nconst ConfettiBurst = () => {\n  _s7();\n  const [items, setItems] = useState([]);\n  useEffect(() => {\n    const EMOJIS = [\"🎉\", \"🎊\", \"✨\", \"🏆\", \"🎈\", \"💥\", \"⭐\"];\n    const arr = Array.from({\n      length: 28\n    }).map((_, i) => ({\n      id: i,\n      left: Math.random() * 100,\n      delay: Math.random() * .8,\n      emoji: EMOJIS[Math.floor(Math.random() * EMOJIS.length)]\n    }));\n    setItems(arr);\n    const t = setTimeout(() => setItems([]), 2500);\n    return () => clearTimeout(t);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"absolute\",\n      inset: 0,\n      overflow: \"hidden\",\n      pointerEvents: \"none\"\n    },\n    children: items.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: -20,\n        left: \"\".concat(p.left, \"%\"),\n        fontSize: 22,\n        animation: \"fall \".concat(1.8 + Math.random() * .9, \"s ease-in \").concat(p.delay, \"s forwards\")\n      },\n      children: p.emoji\n    }, p.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1197,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1195,\n    columnNumber: 5\n  }, this);\n};\n\n/* --RankingBars-- */\n_s7(ConfettiBurst, \"WQxLG0jSi8z/ovcvg+2h1VT9zGY=\");\n_c13 = ConfettiBurst;\nfunction RankingBars(_ref15) {\n  _s8();\n  let {\n    data,\n    onContinue\n  } = _ref15;\n  const [mounted, setMounted] = useState(false);\n  useEffect(() => setMounted(true), []);\n  const max = Math.max(1, ...data.map(d => d.total || 0));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: _objectSpread({}, panelBox),\n      children: [data.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          opacity: .7\n        },\n        children: \"A\\xFAn no hay datos de equipos\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1219,\n        columnNumber: 29\n      }, this), data.map((r, i) => {\n        const pct = Math.round(r.total / max * 100);\n        const isFirst = i === 0;\n        const isLast = i === data.length - 1;\n        const secondOrThird = !isFirst && !isLast;\n        const barBg = isFirst ? \"linear-gradient(90deg, \".concat(theme.amarillo, \", #FFF59D, \").concat(theme.amarillo, \")\") : secondOrThird ? \"linear-gradient(90deg, \".concat(theme.azul, \"22, \").concat(theme.azul, \"66)\") : \"#CFD8DC\";\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gridTemplateColumns: \"56px 1fr 90px\",\n            gap: 8,\n            alignItems: \"center\",\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 900,\n              fontSize: 18,\n              color: theme.blanco,\n              textShadow: \"0 1px 2px rgba(0,0,0,.3)\"\n            },\n            children: [i + 1, isFirst && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 22,\n                lineHeight: \"16px\",\n                animation: \"crownFloat 1.6s ease-in-out infinite\"\n              },\n              children: \"\\uD83D\\uDC51\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1234,\n              columnNumber: 29\n            }, this), isLast && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 18,\n                lineHeight: \"16px\"\n              },\n              children: \"\\uD83D\\uDD17\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1235,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1232,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"relative\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: \"absolute\",\n                left: 10,\n                top: -18,\n                fontWeight: 800,\n                color: isLast ? \"#607D8B\" : theme.texto\n              },\n              children: [r.equipo, i === 1 && data.length >= 2 ? \" 🥈\" : i === 2 && data.length >= 3 ? \" 🥉\" : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1238,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: 28,\n                background: \"#F1F5F9\",\n                borderRadius: 14,\n                overflow: \"hidden\",\n                boxShadow: \"inset 0 0 0 1px #e2e8f0\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  height: \"100%\",\n                  width: mounted ? \"\".concat(pct, \"%\") : 0,\n                  transition: \"width .9s ease\",\n                  background: barBg,\n                  backgroundSize: isFirst ? \"200% 100%\" : undefined,\n                  animation: isFirst ? \"shimmer 2.4s linear infinite\" : undefined,\n                  borderRadius: 14,\n                  position: \"relative\",\n                  filter: isLast ? \"grayscale(.3)\" : \"none\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1242,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1241,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1237,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"right\",\n              fontWeight: 900,\n              fontSize: 18\n            },\n            children: r.total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1252,\n            columnNumber: 15\n          }, this)]\n        }, r.equipo, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1231,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        gap: 10,\n        marginTop: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(Btn, {\n        onClick: onContinue,\n        label: \"Continuar\",\n        full: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1258,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1257,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n/* --Ruleta/Orden presentaciones (profesor)-- */\n_s8(RankingBars, \"jIzhn6p6LizvJhiFxE7MGHODJnE=\");\n_c14 = RankingBars;\nfunction WheelOrder(_ref16) {\n  _s9();\n  let {\n    teams,\n    onConfirm\n  } = _ref16;\n  const [order, setOrder] = useState([]);\n  const remaining = teams.filter(t => !order.includes(t));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: _objectSpread({}, panelBox),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: _objectSpread({}, badgeTitle),\n      children: \"Ruleta / Orden aleatorio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gap: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"1fr 1fr\",\n          gap: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 800,\n              marginBottom: 6\n            },\n            children: \"Equipos disponibles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px dashed \".concat(theme.border),\n              borderRadius: 12,\n              padding: 10,\n              background: \"#fff\",\n              minHeight: 80\n            },\n            children: remaining.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                opacity: .6\n              },\n              children: \"Sin equipos pendientes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1278,\n              columnNumber: 19\n            }, this) : remaining.map((t, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\u2022 \", t]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1279,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 800,\n              marginBottom: 6\n            },\n            children: \"Orden elegido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px dashed \".concat(theme.border),\n              borderRadius: 12,\n              padding: 10,\n              background: \"#fff\",\n              minHeight: 80\n            },\n            children: order.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                opacity: .6\n              },\n              children: \"A\\xFAn no hay orden\\u2026\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1286,\n              columnNumber: 19\n            }, this) : order.map((t, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: [i + 1, \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1287,\n                columnNumber: 50\n              }, this), \" \", t]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1287,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 8,\n          flexWrap: \"wrap\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Btn, {\n          full: false,\n          label: \"\\uD83C\\uDFB0 Girar (agrega 1 equipo)\",\n          onClick: () => {\n            if (remaining.length === 0) return;\n            const next = remaining[Math.floor(Math.random() * remaining.length)];\n            setOrder(o => [...o, next]);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          full: false,\n          variant: \"outline\",\n          label: \"\\uD83C\\uDFB2 Girar 3 veces\",\n          onClick: () => {\n            let pool = remaining.slice();\n            const picks = [];\n            for (let i = 0; i < 3 && pool.length; i++) {\n              const idx = Math.floor(Math.random() * pool.length);\n              picks.push(pool[idx]);\n              pool.splice(idx, 1);\n            }\n            setOrder(o => [...o, ...picks]);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          full: false,\n          variant: \"outline\",\n          label: \"\\uD83D\\uDD00 Generar todo al azar\",\n          onClick: () => setOrder(o => [...o, ...shuffle(remaining)])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          full: false,\n          bg: \"#F44336\",\n          label: \"\\u21BA Limpiar\",\n          onClick: () => setOrder([])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: \"auto\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Btn, {\n            full: false,\n            label: \"\\u2705 Confirmar orden y comenzar\",\n            onClick: () => {\n              const finalOrder = order.length ? order : [...shuffle(teams)];\n              onConfirm(finalOrder);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1323,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1272,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1270,\n    columnNumber: 5\n  }, this);\n}\n\n/* --Escenario Pitch (profesor) -- */\n_s9(WheelOrder, \"pvb3oPMaDYSCnEdUzmBvDD0Yxj8=\");\n_c15 = WheelOrder;\nfunction PresentStageTeacher(_ref17) {\n  let {\n    currentTeam,\n    onNext,\n    pitchSec,\n    startTimer,\n    pauseTimer,\n    resetTimer,\n    remaining\n  } = _ref17;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"grid\",\n      gap: 12\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      title: \"Pitch en curso\",\n      subtitle: \"Presenta: \".concat(currentTeam),\n      width: 900,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\",\n          aspectRatio: \"16/7\",\n          borderRadius: 16,\n          border: \"2px solid \".concat(theme.border),\n          display: \"grid\",\n          placeItems: \"center\",\n          background: \"linear-gradient(135deg,#fff 0%, #F1F5F9 60%)\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 28,\n            fontWeight: 900,\n            color: theme.azul\n          },\n          children: [\"\\uD83C\\uDFA4 Escenario \\u2014 \", currentTeam]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1351,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: _objectSpread(_objectSpread({}, panelBox), {}, {\n            textAlign: \"center\"\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 900,\n              color: theme.azul,\n              marginBottom: 6\n            },\n            children: \"Tiempo de pitch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 64,\n              fontWeight: 900,\n              letterSpacing: 1,\n              marginBottom: 12\n            },\n            children: mmss(remaining)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              gap: 8,\n              justifyContent: \"center\",\n              flexWrap: \"wrap\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => startTimer(),\n              label: \"\\u25B6 Iniciar\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => pauseTimer(),\n              label: \"\\u23F8 Pausa\",\n              full: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1360,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Btn, {\n              onClick: () => resetTimer(pitchSec),\n              label: \"\\u27F2 Reset\",\n              full: false,\n              variant: \"outline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1361,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1355,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          marginTop: 12\n        },\n        children: /*#__PURE__*/_jsxDEV(Btn, {\n          onClick: onNext,\n          label: \"Siguiente grupo\",\n          full: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1367,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1366,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1344,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1343,\n    columnNumber: 5\n  }, this);\n}\n_c16 = PresentStageTeacher;\nfunction EvaluationPanelStudent(_ref18) {\n  _s0();\n  let {\n    roomCode,\n    teams,\n    analyticsUpdate,\n    fromTeam\n  } = _ref18;\n  const [active, setActive] = useState(teams[0] || \"\");\n  const [ratingsByTeam, setRatingsByTeam] = useState(() => Object.fromEntries(teams.map(t => [t, [0, 0, 0, 0, 0, 0]])));\n  const [commentByTeam, setCommentByTeam] = useState(() => Object.fromEntries(teams.map(t => [t, \"\"])));\n  useEffect(() => {\n    if (teams.length && !active) setActive(teams[0]);\n  }, [teams, active]);\n  const rate = (team, idx, value) => {\n    setRatingsByTeam(prev => {\n      const current = prev[team] || [0, 0, 0, 0, 0, 0];\n      const next = current.slice();\n      const old = current[idx] || 0;\n      next[idx] = value;\n      const delta = value - old;\n      if (delta !== 0) awardCoinsToTeam(roomCode, team, delta);\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        [team]: next\n      });\n    });\n  };\n  const submitFeedback = team => {\n    const ratings = ratingsByTeam[team] || [0, 0, 0, 0, 0, 0];\n    const comment = (commentByTeam[team] || \"\").trim();\n    analyticsUpdate(a => _objectSpread(_objectSpread({}, a), {}, {\n      feedbacks: [...a.feedbacks, {\n        roomCode,\n        fromTeam,\n        targetTeam: team,\n        ratings,\n        comment: comment || undefined,\n        ts: Date.now()\n      }]\n    }));\n    alert(\"¡Gracias! Evaluación registrada para \" + team);\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"Evaluaci\\xF3n de equipos\",\n    subtitle: \"Elige equipo y califica 0\\u20135 (cada punto = 1 moneda para ese equipo)\",\n    width: 1100,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"sticky\",\n        top: 12,\n        zIndex: 5,\n        background: \"transparent\",\n        paddingBottom: 6,\n        marginBottom: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 8,\n          overflowX: \"auto\"\n        },\n        children: teams.map(t => {\n          const activeTab = active === t;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActive(t),\n            style: {\n              padding: \"8px 12px\",\n              borderRadius: 12,\n              border: \"2px solid \".concat(activeTab ? theme.rosa : theme.border),\n              background: activeTab ? \"#FFF3F7\" : \"#fff\",\n              fontWeight: 800,\n              cursor: \"pointer\",\n              whiteSpace: \"nowrap\"\n            },\n            children: t\n          }, t, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1421,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1417,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1416,\n      columnNumber: 7\n    }, this), active && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: _objectSpread({}, panelBox),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 900,\n          color: theme.azul,\n          marginBottom: 8\n        },\n        children: active\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1440,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gap: 10\n        },\n        children: Array.from({\n          length: 6\n        }).map((_, i) => {\n          var _ratingsByTeam$active;\n          const val = ((_ratingsByTeam$active = ratingsByTeam[active]) === null || _ratingsByTeam$active === void 0 ? void 0 : _ratingsByTeam$active[i]) || 0;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"grid\",\n              gridTemplateColumns: \"160px 1fr 60px\",\n              gap: 10,\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 800\n              },\n              children: [\"Criterio \", i + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1446,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: 0,\n              max: 5,\n              step: 1,\n              value: val,\n              onChange: e => rate(active, i, Number(e.target.value)),\n              style: {\n                width: \"100%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1447,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: \"right\",\n                fontWeight: 900\n              },\n              children: [val, \"/5\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1453,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1445,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1441,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 800,\n            marginBottom: 6\n          },\n          children: \"Comentario (opcional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1460,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: commentByTeam[active] || \"\",\n          onChange: e => setCommentByTeam(s => _objectSpread(_objectSpread({}, s), {}, {\n            [active]: e.target.value\n          })),\n          style: _objectSpread(_objectSpread({}, baseInput), {}, {\n            minHeight: 80\n          }),\n          placeholder: \"Escribe feedback para este equipo (opcional)\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1461,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1459,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginTop: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(Btn, {\n          label: \"Enviar evaluaci\\xF3n de este equipo\",\n          full: false,\n          onClick: () => submitFeedback(active)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1470,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1469,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1439,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1414,\n    columnNumber: 5\n  }, this);\n}\n\n/* --ADMIN DASHBOARD-- */\n_s0(EvaluationPanelStudent, \"x+xtP6UweMqXf++AnP6+xsUokQw=\");\n_c17 = EvaluationPanelStudent;\nfunction AdminDashboard(_ref19) {\n  _s1();\n  let {\n    analytics,\n    THEMES,\n    setTHEMES,\n    flow,\n    onBack,\n    ranking,\n    clearMetrics\n  } = _ref19;\n  const [tab, setTab] = useState(\"resumen\");\n  const exportJSON = (name, data) => {\n    const blob = new Blob([JSON.stringify(data, null, 2)], {\n      type: \"application/json\"\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"\".concat(name, \".json\");\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  const totals = {\n    equipos: analytics.teams.length,\n    estudiantes: analytics.teams.reduce((acc, t) => {\n      var _t$integrantes;\n      return acc + (((_t$integrantes = t.integrantes) === null || _t$integrantes === void 0 ? void 0 : _t$integrantes.length) || 0);\n    }, 0),\n    reflexiones: analytics.reflections.length,\n    rooms: analytics.roomsCreated\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"Panel de Administrador\",\n    subtitle: \"Configura el juego y revisa m\\xE9tricas\",\n    width: 1100,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        flexWrap: \"wrap\",\n        marginBottom: 12\n      },\n      children: [[[\"resumen\", \"📊 Resumen\"], [\"temas\", \"🎯 Temáticas & Desafíos\"], [\"equipos\", \"👥 Equipos\"], [\"reflexiones\", \"📝 Reflexiones\"], [\"uso\", \"📈 Uso de desafíos\"], [\"ranking\", \"🏆 Ranking/Monedas\"]].map(_ref20 => {\n        let [k, label] = _ref20;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTab(k),\n          style: {\n            padding: \"8px 12px\",\n            borderRadius: 12,\n            border: \"2px solid \".concat(tab === k ? theme.azul : theme.border),\n            background: tab === k ? \"#E3F2FD\" : \"#fff\",\n            fontWeight: 800,\n            cursor: \"pointer\"\n          },\n          children: label\n        }, k, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1510,\n          columnNumber: 11\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"auto\",\n          display: \"flex\",\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(Btn, {\n          label: \"Exportar m\\xE9tricas\",\n          full: false,\n          variant: \"outline\",\n          onClick: () => exportJSON(\"udd_metrics\", analytics)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1523,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          label: \"Exportar configuraci\\xF3n\",\n          full: false,\n          variant: \"outline\",\n          onClick: () => exportJSON(\"udd_themes\", THEMES)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          label: \"Resetear m\\xE9tricas\",\n          bg: \"#F44336\",\n          full: false,\n          onClick: () => {\n            if (confirm(\"¿Seguro que quieres borrar todas las métricas (equipos/uso/reflexiones)?\")) {\n              clearMetrics();\n              alert(\"Métricas reseteadas.\");\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1525,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Btn, {\n          label: \"\\u2B05 Volver\",\n          full: false,\n          bg: theme.amarillo,\n          fg: theme.texto,\n          onClick: onBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1530,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1522,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1501,\n      columnNumber: 7\n    }, this), tab === \"resumen\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\n        gap: 12\n      },\n      children: [[{\n        k: \"Salas creadas\",\n        v: totals.rooms\n      }, {\n        k: \"Equipos registrados\",\n        v: totals.equipos\n      }, {\n        k: \"Estudiantes (aprox.)\",\n        v: totals.estudiantes\n      }, {\n        k: \"Reflexiones recibidas\",\n        v: totals.reflexiones\n      }].map(card => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: panelBox,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 13,\n            color: theme.muted\n          },\n          children: card.k\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1543,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 32,\n            fontWeight: 900\n          },\n          children: card.v\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1544,\n          columnNumber: 15\n        }, this)]\n      }, card.k, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1542,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: _objectSpread({\n          gridColumn: \"1 / -1\"\n        }, panelBox),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: badgeTitle,\n          children: \"Sala actual\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1548,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontFamily: \"Roboto Mono, monospace\",\n            fontWeight: 900,\n            fontSize: 18\n          },\n          children: [\"C\\xF3digo: \", flow.roomCode || \"—\", \" \\xB7 Paso: \", flow.step, \" \\xB7 Equipos esperados: \", flow.expectedTeams || \"—\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1549,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1547,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1535,\n      columnNumber: 9\n    }, this), tab === \"temas\" && /*#__PURE__*/_jsxDEV(ThemeEditor, {\n      THEMES: THEMES,\n      setTHEMES: setTHEMES\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1556,\n      columnNumber: 23\n    }, this), tab === \"equipos\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: _objectSpread(_objectSpread({}, panelBox), {}, {\n        textAlign: \"left\"\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: badgeTitle,\n        children: \"Equipos registrados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1560,\n        columnNumber: 11\n      }, this), analytics.teams.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          opacity: .7\n        },\n        children: \"Sin equipos a\\xFAn.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1562,\n        columnNumber: 16\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gap: 10\n        },\n        children: analytics.teams.slice().reverse().map((t, i) => {\n          var _t$integrantes2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px solid \".concat(theme.border),\n              borderRadius: 12,\n              padding: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 800\n              },\n              children: [t.teamName, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: theme.muted\n                },\n                children: [\"\\xB7 sala \", t.roomCode]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1567,\n                columnNumber: 64\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1567,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 12,\n                color: theme.muted\n              },\n              children: new Date(t.ts).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1568,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 6,\n                display: \"grid\",\n                gap: 4\n              },\n              children: (_t$integrantes2 = t.integrantes) === null || _t$integrantes2 === void 0 ? void 0 : _t$integrantes2.map((p, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: p.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1571,\n                  columnNumber: 40\n                }, this), \" \\u2014 \", p.carrera]\n              }, j, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1571,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1569,\n              columnNumber: 21\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1566,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1564,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1559,\n      columnNumber: 9\n    }, this), tab === \"reflexiones\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: _objectSpread(_objectSpread({}, panelBox), {}, {\n        textAlign: \"left\"\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: badgeTitle,\n        children: \"Reflexiones finales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1583,\n        columnNumber: 11\n      }, this), analytics.reflections.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          opacity: .7\n        },\n        children: \"A\\xFAn no hay reflexiones.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1585,\n        columnNumber: 16\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gap: 10\n        },\n        children: analytics.reflections.slice().reverse().map((r, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: \"1px solid \".concat(theme.border),\n            borderRadius: 12,\n            padding: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 800\n            },\n            children: [r.teamName, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: theme.muted\n              },\n              children: [\"\\xB7 sala \", r.roomCode]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1590,\n              columnNumber: 64\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1590,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              color: theme.muted\n            },\n            children: new Date(r.ts).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1591,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 6,\n              whiteSpace: \"pre-wrap\"\n            },\n            children: r.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1592,\n            columnNumber: 21\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1589,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1587,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1582,\n      columnNumber: 9\n    }, this), tab === \"uso\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: _objectSpread(_objectSpread({}, panelBox), {}, {\n        textAlign: \"left\"\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: badgeTitle,\n        children: \"Uso de desaf\\xEDos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1602,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 12,\n          color: theme.muted,\n          marginBottom: 8\n        },\n        children: \"(Se incrementa cuando el profesor abre el mapa de empat\\xEDa con un desaf\\xEDo seleccionado)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1603,\n        columnNumber: 11\n      }, this), Object.keys(analytics.challengeUsage).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          opacity: .7\n        },\n        children: \"A\\xFAn no hay datos de uso.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1607,\n        columnNumber: 16\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gap: 8\n        },\n        children: Object.entries(analytics.challengeUsage).sort((a, b) => b[1] - a[1]).map(_ref21 => {\n          let [key, count] = _ref21;\n          const [themeId, idxStr] = key.split(\"#\");\n          const idx = Number(idxStr);\n          const t = THEMES[themeId];\n          const label = t !== null && t !== void 0 && t.label && t.desafios[idx] ? \"\".concat(t.label, \" \\u2014 \").concat(t.desafios[idx].titulo) : key;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"grid\",\n              gridTemplateColumns: \"1fr auto\",\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1616,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 900\n              },\n              children: count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1617,\n              columnNumber: 23\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1615,\n            columnNumber: 21\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1609,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1601,\n      columnNumber: 9\n    }, this), tab === \"ranking\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: _objectSpread({}, panelBox),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: _objectSpread({\n          marginBottom: 8,\n          textAlign: \"left\"\n        }, badgeTitle),\n        children: [\"Monedas (sala actual \", flow.roomCode || \"—\", \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1628,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(RankingBars, {\n        data: ranking,\n        onContinue: () => {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1631,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1627,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1500,\n    columnNumber: 5\n  }, this);\n}\n\n/* --Theme Editor (admin)-- */\n_s1(AdminDashboard, \"MYwx8jxk3tSEjwqcRmcfJl52lzM=\");\n_c18 = AdminDashboard;\nfunction ThemeEditor(_ref22) {\n  _s10();\n  let {\n    THEMES,\n    setTHEMES\n  } = _ref22;\n  const [current, setCurrent] = useState(Object.keys(THEMES)[0]);\n  const [local, setLocal] = useState(THEMES);\n  useEffect(() => setLocal(THEMES), [THEMES]);\n  const t = local[current];\n  const save = () => {\n    setTHEMES(local);\n    alert(\"Configuración guardada.\");\n  };\n  const addChallenge = () => {\n    const next = _objectSpread({}, local);\n    next[current].desafios.push({\n      titulo: \"Nuevo desafío\",\n      descripcion: \"Descripción...\"\n    });\n    setLocal(next);\n  };\n  const removeChallenge = i => {\n    const next = _objectSpread({}, local);\n    next[current].desafios.splice(i, 1);\n    setLocal(next);\n  };\n  const updateChallenge = (i, patch) => {\n    const next = _objectSpread({}, local);\n    next[current].desafios[i] = _objectSpread(_objectSpread({}, next[current].desafios[i]), patch);\n    setLocal(next);\n  };\n  const updatePersona = patch => {\n    const next = _objectSpread({}, local);\n    next[current].persona = _objectSpread(_objectSpread({}, next[current].persona), patch);\n    setLocal(next);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"grid\",\n      gap: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        justifyContent: \"center\",\n        flexWrap: \"wrap\"\n      },\n      children: Object.keys(local).map(k => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrent(k),\n        style: {\n          padding: \"8px 12px\",\n          borderRadius: 12,\n          border: \"2px solid \".concat(current === k ? theme.azul : theme.border),\n          background: current === k ? \"#E3F2FD\" : \"#fff\",\n          fontWeight: 800,\n          cursor: \"pointer\"\n        },\n        children: local[k].label\n      }, k, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1660,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1658,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: \"1fr 1fr\",\n        gap: 12,\n        alignItems: \"start\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: _objectSpread(_objectSpread({}, panelBox), {}, {\n          textAlign: \"left\"\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: badgeTitle,\n          children: \"Persona\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1676,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Nombre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1677,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: _objectSpread(_objectSpread({}, baseInput), {}, {\n            marginBottom: 8\n          }),\n          value: t.persona.nombre,\n          onChange: e => updatePersona({\n            nombre: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1678,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Edad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1679,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          style: _objectSpread(_objectSpread({}, baseInput), {}, {\n            marginBottom: 8\n          }),\n          value: t.persona.edad,\n          onChange: e => updatePersona({\n            edad: Number(e.target.value) || 0\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1680,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Bio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1681,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          style: _objectSpread(_objectSpread({}, baseInput), {}, {\n            minHeight: 100\n          }),\n          value: t.persona.bio,\n          onChange: e => updatePersona({\n            bio: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1682,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1675,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: _objectSpread(_objectSpread({}, panelBox), {}, {\n          textAlign: \"left\"\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: badgeTitle,\n          children: \"Desaf\\xEDos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1686,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gap: 10\n          },\n          children: [t.desafios.map((d, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px solid \".concat(theme.border),\n              borderRadius: 12,\n              padding: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"grid\",\n                gap: 6\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"T\\xEDtulo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1691,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                style: baseInput,\n                value: d.titulo,\n                onChange: e => updateChallenge(i, {\n                  titulo: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1692,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Descripci\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1693,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                style: _objectSpread(_objectSpread({}, baseInput), {}, {\n                  minHeight: 80\n                }),\n                value: d.descripcion,\n                onChange: e => updateChallenge(i, {\n                  descripcion: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1694,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n                marginTop: 8\n              },\n              children: /*#__PURE__*/_jsxDEV(Btn, {\n                label: \"Eliminar\",\n                full: false,\n                bg: \"#F44336\",\n                onClick: () => {\n                  if (confirm(\"¿Eliminar desafío?\")) removeChallenge(i);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1697,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1696,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1689,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(Btn, {\n            label: \"Agregar desaf\\xEDo\",\n            full: false,\n            onClick: addChallenge\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1701,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1687,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1685,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1674,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        gap: 8\n      },\n      children: /*#__PURE__*/_jsxDEV(Btn, {\n        label: \"Guardar cambios\",\n        onClick: save,\n        full: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1707,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1706,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1657,\n    columnNumber: 5\n  }, this);\n}\n\n/* ===================== UTILS (final) ===================== */\n_s10(ThemeEditor, \"p83+iadXu1QbPASlhjTt/phZkSg=\");\n_c19 = ThemeEditor;\nfunction useMediaQuery(q) {\n  _s11();\n  const [m, setM] = useState(false);\n  useEffect(() => {\n    const mq = window.matchMedia(q);\n    const h = () => setM(mq.matches);\n    h();\n    mq.addEventListener(\"change\", h);\n    return () => mq.removeEventListener(\"change\", h);\n  }, [q]);\n  return m;\n}\n_s11(useMediaQuery, \"x286d22VJxqa8PUUeJk1K/y7dH0=\");\nfunction shuffle(arr) {\n  const a = arr.slice();\n  for (let i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n}\nfunction generateCode() {\n  let len = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;\n  const CHARS = \"ABCDEFGHJKLMNPQRSTUVWXYZ23456789\";\n  let out = \"\";\n  for (let i = 0; i < len; i++) {\n    out += CHARS[Math.floor(Math.random() * CHARS.length)];\n  }\n  return out;\n}\n\n/* sumar monedas a un equipo arbitrario (no necesariamente el propio) */\nfunction awardCoinsToTeam(roomCode, teamName, delta) {\n  if (!roomCode || !teamName || !delta) return;\n  const map = readJSON(COINS_KEY, {});\n  const key = \"\".concat(roomCode, \"::\").concat(teamName);\n  map[key] = (map[key] || 0) + delta;\n  writeJSON(COINS_KEY, map);\n  try {\n    window.dispatchEvent(new StorageEvent(\"storage\", {\n      key: COINS_KEY,\n      newValue: JSON.stringify(map)\n    }));\n  } catch (_unused14) {}\n}\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19;\n$RefreshReg$(_c, \"GlobalFormCSS\");\n$RefreshReg$(_c2, \"AutoCenter\");\n$RefreshReg$(_c3, \"Card\");\n$RefreshReg$(_c4, \"Btn$memo\");\n$RefreshReg$(_c5, \"Btn\");\n$RefreshReg$(_c6, \"Background$memo\");\n$RefreshReg$(_c7, \"Background\");\n$RefreshReg$(_c8, \"Orb\");\n$RefreshReg$(_c9, \"Wave\");\n$RefreshReg$(_c0, \"GeoPiece\");\n$RefreshReg$(_c1, \"App\");\n$RefreshReg$(_c10, \"GridView\");\n$RefreshReg$(_c11, \"ThemeChallengeSection\");\n$RefreshReg$(_c12, \"EmpathySection\");\n$RefreshReg$(_c13, \"ConfettiBurst\");\n$RefreshReg$(_c14, \"RankingBars\");\n$RefreshReg$(_c15, \"WheelOrder\");\n$RefreshReg$(_c16, \"PresentStageTeacher\");\n$RefreshReg$(_c17, \"EvaluationPanelStudent\");\n$RefreshReg$(_c18, \"AdminDashboard\");\n$RefreshReg$(_c19, \"ThemeEditor\");","map":{"version":3,"names":["React","useEffect","useLayoutEffect","useMemo","useRef","useState","memo","TeamworkMiniAnim","EmpathyAnimacion","CreatividadAnimacion","PitchAnimacion","jsxDEV","_jsxDEV","Fragment","_Fragment","mmss","sec","s","Math","max","floor","mStr","String","padStart","sStr","concat","theme","rosa","azul","amarillo","blanco","surfaceAlt","gris","texto","muted","border","shadow","GlobalFormCSS","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","appStyles","position","minHeight","overflowY","overflowX","fontFamily","color","baseInput","width","padding","borderRadius","boxSizing","maxWidth","background","panelBox","zIndex","boxShadow","badgeTitle","fontWeight","marginBottom","smallHint","fontSize","opacity","marginTop","JOINED_KEY","AutoCenter","_ref","_s","contentRef","center","setCenter","recompute","_contentRef$current$o","_contentRef$current","vp","window","innerHeight","contentH","current","offsetHeight","ro","ResizeObserver","observe","addEventListener","disconnect","removeEventListener","style","display","flexDirection","justifyContent","alignItems","ref","justifyItems","_c2","Card","_ref2","title","subtitle","tight","textAlign","backdropFilter","margin","_c3","Btn","_c4","_ref3","onClick","bg","fg","label","full","disabled","variant","undefined","cursor","letterSpacing","transition","whiteSpace","onMouseDown","e","currentTarget","transform","onMouseUp","onMouseEnter","onMouseLeave","_c5","Background","_c6","inset","pointerEvents","overflow","filter","Orb","left","top","size","delay","Wave","reverse","GeoPiece","rotate","_c7","_ref4","height","animation","random","_c8","_ref5","viewBox","preserveAspectRatio","fill","d","_c9","_ref6","_c0","FLOW_KEY","READY_KEY","COINS_KEY","THEMES_KEY","ANALYTICS_KEY","readJSON","key","fallback","raw","localStorage","getItem","JSON","parse","_unused","writeJSON","value","setItem","stringify","_unused2","normalizeFlow","f","initial","base","_objectSpread","presentOrder","Array","isArray","currentIdx","pitchSeconds","useStorageSignal","keys","_s2","pollMs","arguments","length","tick","setTick","onStorage","includes","t","id","setInterval","clearInterval","useSharedFlow","isTeacher","_s3","flow","setFlow","newValue","parsed","_unused3","publish","next","newFlow","dispatchEvent","StorageEvent","_unused4","running","remaining","nf","_unused5","setStep","step","startTimer","seconds","pauseTimer","resetTimer","useAnalytics","_s4","analytics","setAnalytics","roomsCreated","challengeUsage","teams","reflections","feedbacks","_unused6","update","updater","prev","_unused7","App","_s5","mode","setMode","equiposQty","setEquiposQty","roomCode","setRoomCode","groupName","setGroupName","miNombre","setMiNombre","miCarrera","setMiCarrera","integrantes","setIntegrantes","teamReady","setTeamReady","coins","setCoins","isTablet","useMediaQuery","isMobile","joinedRoom","setJoinedRoom","sessionStorage","showAdminLogin","setShowAdminLogin","adminUser","setAdminUser","adminPass","setAdminPass","adminErr","setAdminErr","initialFlow","expectedTeams","storageTick","readyNow","readyCount","teamId","trim","analyticsApi","markReady","set","Set","add","arr","from","_unused8","teamName","split","a","nombre","carrera","ts","Date","now","startsWith","clearReadyForRoom","filtered","_unused9","teamsForCurrentRoom","map","Boolean","getTeamsForRoom","readyTeamNames","pruneCoinsForRoom","ready","newMap","Object","fromEntries","entries","_ref7","team","has","_unused0","_unused1","ranking","pairs","_ref8","_ref9","v","equipo","total","_ref0","sort","b","diffs","setDiffs","x","y","r","zone","hintsLeft","setHintsLeft","spotRef","clickSpot","rect","getBoundingClientRect","cx","clientX","cy","clientY","found","dx","dy","dist","hypot","c","useHint","hidden","find","h","tip","document","createElement","assign","appendChild","setTimeout","remove","makeGrid","goal","g","forEach","_ref1","grid","setGrid","scored","setScored","toggleCell","row","slice","cn","sc","cp","EMPATIA_FIELDS","empatia","setEmpatia","perfil","entorno","emociones","necesidades","limitaciones","motivaciones","activeBubble","setActiveBubble","onEmpatiaChange","k","_prev$k","wasEmpty","defaultTHEMES","salud","desafios","titulo","descripcion","persona","edad","bio","sustentabilidad","educacion","THEMES","setTHEMES","saveTHEMES","_unused10","temaSel","setTemaSel","desafioIndex","setDesafioIndex","desafioActual","isTabletMedia","isMobileMedia","bubbleSize","centerBubbleSize","bubblePositions","right","bottom","f1Tab","setF1Tab","VideoSpace","_ref10","aspectRatio","Instructions","_ref11","bullets","i","dangerouslySetInnerHTML","__html","BigTimer","_ref12","defaultSec","gap","flexWrap","placeholder","onChange","target","type","onKeyDown","AdminDashboard","onBack","clearMetrics","_flow$presentOrder$fl","_flow$presentOrder","gridTemplateColumns","Number","alignSelf","code","generateCode","_unused11","_unused12","alignContent","name","readySet","all","readyList","loop","ConfettiBurst","RankingBars","data","onContinue","ThemeChallengeSection","usage","showContinue","WheelOrder","onConfirm","order","PresentStageTeacher","currentTeam","pitchSec","onNext","nextIdx","placeItems","_unused13","toUpperCase","alert","maxHeight","p","borderBottom","paddingBottom","active","points","gridTemplateRows","z","outline","GridView","readOnly","onClickCell","flat","EmpathySection","accept","paddingLeft","EvaluationPanelStudent","analyticsUpdate","fromTeam","bare","ta","getElementById","text","_c1","_ref13","_s6","cell","on","_c10","_ref14","idx","charAt","_c11","props","_EMPATIA_FIELDS$find","_EMPATIA_FIELDS$find2","_empatia$f$key","filled","_c12","_s7","items","setItems","EMOJIS","_","emoji","clearTimeout","_c13","_ref15","_s8","mounted","setMounted","pct","round","isFirst","isLast","secondOrThird","barBg","textShadow","lineHeight","backgroundSize","_c14","_ref16","_s9","setOrder","o","pool","picks","push","splice","shuffle","marginLeft","finalOrder","_c15","_ref17","_c16","_ref18","_s0","setActive","ratingsByTeam","setRatingsByTeam","commentByTeam","setCommentByTeam","rate","old","delta","awardCoinsToTeam","submitFeedback","ratings","comment","targetTeam","activeTab","_ratingsByTeam$active","val","min","_c17","_ref19","_s1","tab","setTab","exportJSON","blob","Blob","url","URL","createObjectURL","href","download","click","revokeObjectURL","totals","equipos","estudiantes","reduce","acc","_t$integrantes","reflexiones","rooms","_ref20","confirm","card","gridColumn","ThemeEditor","_t$integrantes2","toLocaleString","j","_ref21","count","themeId","idxStr","_c18","_ref22","_s10","setCurrent","local","setLocal","save","addChallenge","removeChallenge","updateChallenge","patch","updatePersona","_c19","q","_s11","m","setM","mq","matchMedia","matches","len","CHARS","out","_unused14","$RefreshReg$"],"sources":["/workspaces/udd-EmprendimientoBS/web/src/App.tsx"],"sourcesContent":["// App.tsx\nimport React,{useEffect,useLayoutEffect,useMemo,useRef,useState,memo} from \"react\";\nimport TeamworkMiniAnim from \"./componentes/TeamworkMiniAnim\";\nimport EmpathyAnimacion from \"./componentes/EmpathyAnimacion\";\nimport CreatividadAnimacion from \"./componentes/CreatividadAnimacion\";\nimport PitchAnimacion from \"./componentes/PitchAnimacion\";\n\n/* ============ UTILES ============ */\n\nfunction mmss(sec: number): string {\n  const s = Math.max(0, Math.floor(sec || 0));\n  const mStr = String(Math.floor(s / 60)).padStart(2, \"0\");\n  const sStr = String(s % 60).padStart(2, \"0\");\n  return `${mStr}:${sStr}`;\n}\n\n/* --THEME-- */\nconst theme={rosa:\"#E91E63\",azul:\"#1976D2\",amarillo:\"#FFEB3B\",blanco:\"#FFFFFF\",surfaceAlt:\"#F7F9FC\",gris:\"#ECEFF1\",texto:\"#0D47A1\",muted:\"#6B7A90\",border:\"#E3E8EF\",shadow:\"0 16px 36px rgba(16,24,40,.14)\"};\n\n/* --GLOBAL CSS-- */\nconst GlobalFormCSS=()=>(<style>{`\n  *{-webkit-tap-highlight-color:transparent;} input,textarea,select{box-sizing:border-box;max-width:100%} body{margin:0}\n  button:focus-visible,input:focus-visible,textarea:focus-visible,select:focus-visible{outline:3px solid #93C5FD;outline-offset:2px}\n  @keyframes crownFloat{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}\n  @keyframes shimmer{0%{background-position:0% 0}100%{background-position:120% 0}}\n  @keyframes fall{0%{transform:translateY(-10vh) rotate(0deg);opacity:1}100%{transform:translateY(110vh) rotate(360deg);opacity:.9}}\n  @keyframes floatY{0%{transform:translateY(0)}50%{transform:translateY(-18px)}100%{transform:translateY(0)}}\n  @keyframes pulseSoft{0%{transform:scale(1);opacity:.65}50%{transform:scale(1.06);opacity:.85}100%{transform:scale(1);opacity:.65}}\n`}</style>);\n\n/* --BASE STYLES-- */\nconst appStyles:React.CSSProperties={position:\"relative\",minHeight:\"100dvh\",overflowY:\"auto\",overflowX:\"hidden\",fontFamily:\"Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif\",color:theme.texto};\nconst baseInput:React.CSSProperties={width:\"100%\",padding:12,borderRadius:12,border:`1px solid ${theme.border}`,boxSizing:\"border-box\",maxWidth:\"100%\",background:theme.blanco};\nconst panelBox:React.CSSProperties={background:theme.blanco,border:`1px solid ${theme.border}`,borderRadius:16,padding:12,position:\"relative\",zIndex:2,boxShadow:theme.shadow};\nconst badgeTitle:React.CSSProperties={fontWeight:900,color:theme.azul,marginBottom:6};\nconst smallHint:React.CSSProperties={fontSize:12,opacity:.7,marginTop:8};\nconst JOINED_KEY = \"udd_joined_room_v1\";\n\nconst AutoCenter:React.FC<{children:React.ReactNode}>=({children})=>{\n  const contentRef=useRef<HTMLDivElement|null>(null); const [center,setCenter]=useState(true);\n  const recompute=()=>{const vp=window.innerHeight;const padding=48;const contentH=contentRef.current?.offsetHeight??0;setCenter(contentH+padding<=vp);};\n  useLayoutEffect(()=>{recompute();const ro=new ResizeObserver(recompute);if(contentRef.current)ro.observe(contentRef.current);window.addEventListener(\"resize\",recompute);return()=>{ro.disconnect();window.removeEventListener(\"resize\",recompute)};},[]);\n  return(<div style={{position:\"relative\",width:\"100%\",minHeight:\"100dvh\",display:\"flex\",flexDirection:\"column\",justifyContent:center?\"center\":\"flex-start\",alignItems:\"center\",padding:24}}>\n    <div ref={contentRef} style={{width:\"100%\",display:\"grid\",justifyItems:\"center\"}}>{children}</div>\n  </div>);\n};\n\nconst Card:React.FC<{title:string;subtitle?:string;width?:number;tight?:boolean}>=({title,subtitle,width=520,children,tight})=>(\n  <div style={{width:`clamp(320px,92vw,${width}px)`,background:\"rgba(255,255,255,0.96)\",boxShadow:theme.shadow,border:`1px solid ${theme.border}`,borderRadius:20,padding:tight?18:24,textAlign:\"center\",backdropFilter:\"blur(2px)\",position:\"relative\",zIndex:3,margin:\"12px auto\"}}>\n    <h2 style={{margin:0,marginBottom:8,fontSize:26,fontWeight:900,color:theme.rosa}}>{title}</h2>\n    {subtitle&&<p style={{marginTop:0,marginBottom:16,color:theme.azul}}>{subtitle}</p>}\n    {children}\n  </div>\n);\n\nconst Btn:React.FC<{onClick?:()=>void;bg?:string;fg?:string;label:string;full?:boolean;disabled?:boolean;variant?:\"solid\"|\"outline\"}>=memo(({onClick,bg=theme.azul,fg=theme.blanco,label,full=true,disabled,variant=\"solid\"})=>(\n  <button onClick={()=>onClick?.()} disabled={disabled} style={{width:full? \"100%\":undefined,padding:\"12px 16px\",borderRadius:14,border:variant===\"outline\"?`2px solid ${theme.azul}`:\"none\",cursor:disabled?\"not-allowed\":\"pointer\",fontWeight:800,letterSpacing:.2,background:disabled?\"#cfd8dc\":variant===\"outline\"?\"transparent\":bg,color:disabled?\"#607d8b\":variant===\"outline\"?theme.azul:fg,boxShadow:variant===\"outline\"?\"none\":\"0 6px 12px rgba(0,0,0,.12)\",transition:\"transform .06s ease, opacity .15s ease, box-shadow .15s ease\",whiteSpace:\"nowrap\"}}\n    onMouseDown={e=>!disabled&&(e.currentTarget.style.transform=\"scale(.98)\")}\n    onMouseUp={e=>!disabled&&(e.currentTarget.style.transform=\"scale(1)\")}\n    onMouseEnter={e=>{if(!disabled&&variant===\"solid\")e.currentTarget.style.boxShadow=\"0 8px 16px rgba(0,0,0,.16)\"}}\n    onMouseLeave={e=>{if(!disabled&&variant===\"solid\")e.currentTarget.style.boxShadow=\"0 6px 12px rgba(0,0,0,.12)\"}}\n  >{label}</button>\n));\n\n/* --FONDO-- */\nconst Background=memo(()=>(\n  <div style={{position:\"fixed\",inset:0,pointerEvents:\"none\",overflow:\"hidden\"}}>\n    <div style={{position:\"absolute\",inset:0,background:`linear-gradient(145deg, ${theme.rosa} 0%, ${theme.azul} 60%)`}}/>\n    <div style={{position:\"absolute\",inset:0,background:`radial-gradient(40% 35% at 85% 15%, ${theme.amarillo}55, transparent 65%)`,filter:\"blur(2px)\"}}/>\n    <Orb left=\"6%\" top=\"72%\" size={220} color={`${theme.amarillo}55`} delay={.2}/>\n    <Orb left=\"78%\" top=\"68%\" size={180} color={`${theme.rosa}44`} delay={.6}/>\n    <Orb left=\"12%\" top=\"18%\" size={140} color={`${theme.azul}55`} delay={.1}/>\n    <Wave color={`${theme.azul}`} opacity={.18} top={100}/>\n    <Wave color={`${theme.rosa}`} opacity={.14} top={170} reverse/>\n    <GeoPiece left=\"70%\" top=\"22%\" size={140} color={`${theme.blanco}18`} rotate/>\n    <GeoPiece left=\"28%\" top=\"78%\" size={160} color={`${theme.blanco}14`}/>\n  </div>\n));\nconst Orb:React.FC<{left:string;top:string;size:number;color:string;delay?:number}>=({left,top,size,color,delay=0})=>(<div style={{position:\"absolute\",left,top,width:size,height:size,borderRadius:\"50%\",background:color,filter:\"blur(6px)\",animation:`floatY ${5.5+Math.random()*2}s ease-in-out ${delay}s infinite`}}/>);\nconst Wave:React.FC<{color:string;opacity?:number;top?:number;reverse?:boolean}>=({color,opacity=.2,top=120,reverse})=>(\n  <svg viewBox=\"0 0 1440 320\" preserveAspectRatio=\"xMidYMid slice\" style={{position:\"absolute\",top,left:0,width:\"100%\",height:240,opacity,transform:reverse?\"scaleY(-1)\":undefined,animation:\"drift 12s ease-in-out infinite\"}}>\n    <path fill={color} d=\"M0,192 C240,240 480,240 720,192 C960,144 1200,144 1440,192 L1440,320 L0,320 Z\"/>\n  </svg>\n);\nconst GeoPiece:React.FC<{left:string;top:string;size:number;color:string;rotate?:boolean}>=({left,top,size,color,rotate})=>(\n  <div style={{position:\"absolute\",left,top,width:size,height:size,borderRadius:26,background:color,transform:\"rotate(12deg)\",animation:rotate?\"pulseSoft 7s ease-in-out infinite\":\"floatY 8s ease-in-out infinite\",boxShadow:\"0 20px 40px rgba(0,0,0,.08)\"}}/>\n);\n\n/* ============ FLOW/STATE ============ */\ntype FlowStep=\n  |\"lobby\"\n  |\"f1_video\"|\"f1_instr\"|\"f1_activity\"|\"f1_rank\"\n  |\"f2_video\"|\"f2_instr\"|\"f2_theme\"|\"f2_activity\"|\"f2_rank\"\n  |\"f3_video\"|\"f3_activity\"|\"f3_rank\"\n  |\"f4_video\"|\"f4_prep\"\n  |\"f4_wheel\"     \n  |\"f4_present\"    \n  |\"f4_rank\"      \n  |\"f5_video\"|\"f5_eval\"|\"f5_rank\"\n  |\"f6_video\"|\"f6_close\"\n  |\"qr\";\n\ntype FlowState={\n  step:FlowStep;\n  running:boolean;\n  remaining:number;\n  roomCode:string;\n  expectedTeams:number;\n  presentOrder:string[];  \n  currentIdx:number;       \n  pitchSeconds:number;    \n};\n\nconst FLOW_KEY=\"udd_flow_state_v1\",READY_KEY=\"udd_ready_teams_v1\",COINS_KEY=\"udd_coins_v1\";\nconst THEMES_KEY=\"udd_themes_v1\",ANALYTICS_KEY=\"udd_analytics_v1\";\n\ntype ThemeId=\"salud\"|\"sustentabilidad\"|\"educacion\";\ntype ThemePersona={nombre:string;edad:number;bio:string};\ntype ThemeChallenge={titulo:string;descripcion:string};\ntype ThemeConfig=Record<ThemeId,{label:string;desafios:ThemeChallenge[];persona:ThemePersona}>;\ntype Analytics={\n  roomsCreated:number;\n  challengeUsage:Record<string,number>;\n  teams:{roomCode:string;teamName:string;integrantes:{nombre:string;carrera:string}[];ts:number;}[];\n  reflections:{roomCode:string;teamName:string;text:string;ts:number;}[];\n  feedbacks:{roomCode:string;fromTeam:string;targetTeam:string;ratings:number[];comment?:string;ts:number;}[];\n};\n\nfunction readJSON<T>(key:string,fallback:T):T{try{const raw=localStorage.getItem(key);return raw?JSON.parse(raw):fallback;}catch{return fallback}}\nfunction writeJSON(key:string,value:any){try{localStorage.setItem(key,JSON.stringify(value));}catch{}}\n\nfunction normalizeFlow(f:any, initial:FlowState):FlowState{\n  const base = {...initial, ...(f||{})};\n  return {\n    ...base,\n    presentOrder: Array.isArray(f?.presentOrder) ? f.presentOrder : [],\n    currentIdx: typeof f?.currentIdx === \"number\" ? f.currentIdx : 0,\n    pitchSeconds: typeof f?.pitchSeconds === \"number\" ? f.pitchSeconds : initial.pitchSeconds,\n  };\n}\n\n/* --STORAGE SIGNAL-- */\nfunction useStorageSignal(keys:string[],pollMs=800){const [tick,setTick]=useState(0);\n  useEffect(()=>{const onStorage=(e:StorageEvent)=>{if(!e.key)return;if(keys.includes(e.key))setTick(t=>t+1)};window.addEventListener(\"storage\",onStorage);const id=window.setInterval(()=>setTick(t=>t+1),pollMs);return()=>{window.removeEventListener(\"storage\",onStorage);window.clearInterval(id)};},[keys,pollMs]);\n  return tick;\n}\n\n/* --SHARED FLOW-- */\nfunction useSharedFlow(isTeacher:boolean,initial:FlowState){\n  const [flow,setFlow]=useState<FlowState>(()=>normalizeFlow(readJSON(FLOW_KEY,initial), initial));\n  useEffect(()=>{\n    const onStorage=(e:StorageEvent)=>{\n      if(e.key===FLOW_KEY&&e.newValue){\n        try{\n          const parsed=JSON.parse(e.newValue);\n          setFlow(normalizeFlow(parsed, initial));\n        }catch{}\n      }\n    };\n    window.addEventListener(\"storage\",onStorage);\n    return()=>window.removeEventListener(\"storage\",onStorage)\n  },[]);\n  const publish=(next:Partial<FlowState>)=>{\n    const newFlow=normalizeFlow({...flow,...next}, initial);\n    setFlow(newFlow);\n    writeJSON(FLOW_KEY,newFlow);\n    try{window.dispatchEvent(new StorageEvent(\"storage\",{key:FLOW_KEY,newValue:JSON.stringify(newFlow)}))}catch{}\n  };\n  useEffect(()=>{if(!isTeacher||!flow.running)return;const id=window.setInterval(()=>{setFlow(f=>{const left=Math.max(0,f.remaining-1);const nf={...f,remaining:left,running:left>0&&f.running};writeJSON(FLOW_KEY,nf);try{window.dispatchEvent(new StorageEvent(\"storage\",{key:FLOW_KEY,newValue:JSON.stringify(nf)}))}catch{};return nf})},1000);return()=>window.clearInterval(id)},[isTeacher,flow.running]);\n  const setStep=(step:FlowStep,remaining?:number)=>publish({step,remaining:remaining??flow.remaining,running:false});\n  const startTimer=(seconds?:number)=>publish({remaining:seconds??flow.remaining,running:true});\n  const pauseTimer=()=>publish({running:false});\n  const resetTimer=(seconds:number)=>publish({remaining:seconds,running:false});\n  return {flow,setStep,startTimer,pauseTimer,resetTimer,publish};\n}\n\n/* --ANALYTICS HOOK-- */\nfunction useAnalytics(){const [analytics,setAnalytics]=useState<Analytics>(()=>readJSON<Analytics>(ANALYTICS_KEY,{roomsCreated:0,challengeUsage:{},teams:[],reflections:[],feedbacks:[]}));\n  useEffect(()=>{const onStorage=(e:StorageEvent)=>{if(e.key===ANALYTICS_KEY&&e.newValue){try{setAnalytics(JSON.parse(e.newValue))}catch{}}};window.addEventListener(\"storage\",onStorage);return()=>window.removeEventListener(\"storage\",onStorage)},[]);\n  const update=(updater:(a:Analytics)=>Analytics)=>{setAnalytics(prev=>{const next=updater(prev);writeJSON(ANALYTICS_KEY,next);try{window.dispatchEvent(new StorageEvent(\"storage\",{key:ANALYTICS_KEY,newValue:JSON.stringify(next)}))}catch{};return next})};\n  return {analytics,update};\n}\n\n/* ===================== APP ===================== */\nexport default function App(){\n  const [mode,setMode]=useState<\"inicio\"|\"prof\"|\"alumno\"|\"admin\">(\"inicio\");\n  const [equiposQty,setEquiposQty]=useState(4);\n  const [roomCode,setRoomCode]=useState(\"\"); const [groupName,setGroupName]=useState(\"\"); const [miNombre,setMiNombre]=useState(\"\"); const [miCarrera,setMiCarrera]=useState(\"\");\n  const [integrantes,setIntegrantes]=useState<{nombre:string;carrera:string}[]>([]); const [teamReady,setTeamReady]=useState(false);\n  const [coins,setCoins]=useState(0);\n  const isTablet=useMediaQuery(\"(max-width: 1180px)\"); const isMobile=useMediaQuery(\"(max-width: 640px)\");\n  const [joinedRoom,setJoinedRoom] = useState<string>(()=>sessionStorage.getItem(JOINED_KEY)||\"\");\n\n  // --- Login Admin ---\n  const [showAdminLogin, setShowAdminLogin] = useState(false);\n  const [adminUser, setAdminUser] = useState(\"\");\n  const [adminPass, setAdminPass] = useState(\"\");\n  const [adminErr, setAdminErr] = useState(\"\");\n\n  const initialFlow:FlowState={\n    step:\"lobby\",\n    running:false,\n    remaining:5*60,    \n    roomCode:\"\",\n    expectedTeams:0,\n    /* NUEVO */\n    presentOrder:[],\n    currentIdx:0,\n    pitchSeconds:90    \n  };\n\n  const isTeacher = mode === \"prof\";\n  const {flow,setStep,startTimer,pauseTimer,resetTimer,publish} = useSharedFlow(isTeacher, initialFlow);\n\n  const storageTick = useStorageSignal(\n    mode===\"prof\" ? [READY_KEY,COINS_KEY,FLOW_KEY,ANALYTICS_KEY,THEMES_KEY]\n                  : mode===\"alumno\" ? [COINS_KEY,FLOW_KEY,ANALYTICS_KEY,THEMES_KEY]\n                                    : [FLOW_KEY,ANALYTICS_KEY,THEMES_KEY],\n    800\n  );\n\n  const readyNow = useMemo(() => readyCount(), [storageTick, flow.roomCode, flow.expectedTeams]);\n\n\n  const teamId = flow.roomCode && (groupName || \"(sin-nombre)\")\n  ? `${flow.roomCode}::${(groupName || \"\").trim() || \"sin-nombre\"}`\n  : \"\";\n\n  const analyticsApi=useAnalytics(); const {analytics,update}=analyticsApi;\n\n  const markReady=()=>{const set=new Set<string>(readJSON<string[]>(READY_KEY,[])); if(teamId)set.add(teamId); const arr=Array.from(set); writeJSON(READY_KEY,arr); try{window.dispatchEvent(new StorageEvent(\"storage\",{key:READY_KEY,newValue:JSON.stringify(arr)}))}catch{}; if(teamId){const teamName=teamId.split(\"::\")[1]||\"Equipo\"; update(a=>({...a,teams:[...a.teams,{roomCode:flow.roomCode,teamName,integrantes:integrantes.length?integrantes:[{nombre:miNombre||\"Integrante\",carrera:miCarrera||\"—\"}],ts:Date.now()}]}));} setTeamReady(true);};\n  function readyCount(){\n    const set = new Set<string>(readJSON<string[]>(READY_KEY, []));\n    return Array.from(set).filter(id => id.startsWith(`${flow.roomCode}::`)).length;\n  }\n  const clearReadyForRoom=()=>{const arr=readJSON<string[]>(READY_KEY,[]); const filtered=arr.filter(id=>!id.startsWith(`${flow.roomCode}::`)); writeJSON(READY_KEY,filtered); try{window.dispatchEvent(new StorageEvent(\"storage\",{key:READY_KEY,newValue:JSON.stringify(filtered)}))}catch{};};\n  function teamsForCurrentRoom(analytics:Analytics, roomCode:string){\n    return analytics.teams\n      .filter(t=>t.roomCode===roomCode)\n      .map(t=>t.teamName)\n      .filter(Boolean);\n  }\n  function getTeamsForRoom(analytics: Analytics, roomCode: string): string[] {\n    return teamsForCurrentRoom(analytics, roomCode);\n  }\n  \n\n  function readyTeamNames(roomCode:string){\n    const arr = readJSON<string[]>(READY_KEY,[]);\n    return new Set(\n      arr\n        .filter(id=>id.startsWith(`${roomCode}::`))\n        .map(id=>id.split(\"::\")[1]||\"\")\n    );\n  }\nfunction pruneCoinsForRoom(roomCode:string){\n  const map = readJSON<Record<string,number>>(COINS_KEY,{});\n  const ready = readyTeamNames(roomCode);\n  const newMap = Object.fromEntries(\n    Object.entries(map).filter(([key])=>{\n      if(!key.startsWith(`${roomCode}::`)) return true; \n      const team = key.split(\"::\")[1] || \"\";\n      return ready.has(team); \n    })\n  );\n  writeJSON(COINS_KEY,newMap);\n  try {\n    window.dispatchEvent(new StorageEvent(\"storage\",{key:COINS_KEY,newValue:JSON.stringify(newMap)}));\n  } catch {}\n}\n\nuseEffect(()=>{\n  if(!teamId || mode!==\"alumno\" || !teamReady) return;\n  const map = readJSON<Record<string,number>>(COINS_KEY,{});\n  map[teamId] = coins;\n  writeJSON(COINS_KEY,map);\n  try {\n    window.dispatchEvent(new StorageEvent(\"storage\",{key:COINS_KEY,newValue:JSON.stringify(map)}));\n  } catch {}\n}, [coins, teamId, mode, teamReady]);\n\nconst ranking = useMemo(()=>{\n  const map = readJSON<Record<string,number>>(COINS_KEY,{});\n  const ready = readyTeamNames(flow.roomCode);\n  const pairs = Object.entries(map)\n    .filter(([id]) => id.startsWith(`${flow.roomCode}::`))\n    .map(([id, v]) => ({ equipo: id.split(\"::\")[1] || \"Equipo\", total: v || 0 }))\n    .filter(({equipo}) => ready.has(equipo)); \n  return pairs.sort((a,b)=> b.total - a.total);\n}, [flow.roomCode, flow.step, storageTick]);\n\n  /* --F1: Spot the Difference-- */\n  type Diff={x:number;y:number;r:number;zone:number;found?:boolean};\n  const [diffs,setDiffs]=useState<Diff[]>([{x:.2,y:.25,r:.05,zone:0},{x:.35,y:.7,r:.05,zone:1},{x:.68,y:.35,r:.05,zone:2},{x:.8,y:.7,r:.05,zone:3}]);\n  const [hintsLeft,setHintsLeft]=useState(2); const spotRef=useRef<HTMLDivElement|null>(null);\n  const clickSpot=(e:React.MouseEvent<HTMLDivElement>)=>{if(!spotRef.current||!flow.running)return; const rect=spotRef.current.getBoundingClientRect(); const cx=(e.clientX-rect.left)/rect.width; const cy=(e.clientY-rect.top)/rect.height;\n    setDiffs(arr=>arr.map(d=>{if(d.found)return d; const dx=d.x-cx,dy=d.y-cy; const dist=Math.hypot(dx,dy); if(dist<d.r){setCoins(c=>c+1); return {...d,found:true}} return d;}));\n  };\n  const useHint=()=>{if(hintsLeft<=0||!spotRef.current)return; const hidden=diffs.find(d=>!d.found); if(!hidden)return; setHintsLeft(h=>h-1); setCoins(c=>Math.max(0,c-1)); const tip=document.createElement(\"div\");\n    Object.assign(tip.style,{position:\"absolute\",left:`${hidden.x*100}%`,top:`${hidden.y*100}%`,transform:\"translate(-50%,-50%)\",width:`${hidden.r*150}px`,height:`${hidden.r*150}px`,border:`3px dashed ${theme.amarillo}`,borderRadius:\"50%\",pointerEvents:\"none\"} as CSSStyleDeclaration);\n    spotRef.current.appendChild(tip); setTimeout(()=>tip.remove(),1200);\n  };\n\n  /* --F1: Matrix-- */\n  const size=5; const makeGrid=()=>Array.from({length:size},()=>Array.from({length:size},()=>false));\n  const [goal]=useState<boolean[][]>(()=>{const g=makeGrid(); [[1,1],[1,2],[1,3],[2,0],[2,4],[3,1],[3,2],[3,3],[4,2]].forEach(([r,c])=>g[r][c]=true); return g;});\n  const [grid,setGrid]=useState<boolean[][]>(()=>makeGrid()); const [scored,setScored]=useState<boolean[][]>(()=>makeGrid());\n  const toggleCell=(r:number,c:number)=>{if(!flow.running)return; setGrid(prev=>{const next=prev.map(row=>row.slice()); next[r][c]=!next[r][c]; if(next[r][c]===goal[r][c]&&!scored[r][c]){setCoins(cn=>cn+1); setScored(sc=>{const cp=sc.map(row=>row.slice()); cp[r][c]=true; return cp;});} return next;});};\n\n  /* --F2: Empatía-- */\n  const EMPATIA_FIELDS=[{key:\"perfil\",label:\"Perfil\"},{key:\"entorno\",label:\"Entorno\"},{key:\"emociones\",label:\"Emociones\"},{key:\"necesidades\",label:\"Necesidades\"},{key:\"limitaciones\",label:\"Limitaciones\"},{key:\"motivaciones\",label:\"Motivaciones\"}] as const;\n  type EmpKey=(typeof EMPATIA_FIELDS)[number][\"key\"];\n  const [empatia,setEmpatia]=useState<Record<EmpKey,string>>({perfil:\"\",entorno:\"\",emociones:\"\",necesidades:\"\",limitaciones:\"\",motivaciones:\"\"});\n  const [activeBubble,setActiveBubble]=useState<EmpKey>(\"perfil\");\n  const onEmpatiaChange=(k:EmpKey,v:string)=>{setEmpatia(prev=>{const wasEmpty=!prev[k]?.trim(); const next={...prev,[k]:v}; if(wasEmpty&&next[k].trim())setCoins(c=>c+1); return next;});};\n\n  /* --TEMAS/Desafíos */\n  const defaultTHEMES:ThemeConfig={salud:{label:\"Salud\",desafios:[{titulo:\"Desafío 1\",descripcion:\"Mejorar acceso a atención básica en barrios alejados.\"},{titulo:\"Desafío 2\",descripcion:\"Reducir tiempos de espera en consultas no críticas.\"},{titulo:\"Desafío 3\",descripcion:\"Apoyo a cuidadores de adultos mayores.\"}],persona:{nombre:\"María\",edad:62,bio:\"Cuida a su pareja con movilidad reducida; vive a 40 min del centro de salud.\"}},\n    sustentabilidad:{label:\"Sustentabilidad\",desafios:[{titulo:\"Desafío 1\",descripcion:\"Disminuir residuos en campus y comunidad.\"},{titulo:\"Desafío 2\",descripcion:\"Optimizar uso de agua y energía en hogares.\"},{titulo:\"Desafío 3\",descripcion:\"Movilidad sostenible para trayectos cortos.\"}],persona:{nombre:\"Diego\",edad:24,bio:\"Estudiante que vive en residencia; quiere reducir su huella y ahorrar.\"}},\n    educacion:{label:\"Educación\",desafios:[{titulo:\"Desafío 1\",descripcion:\"Motivar hábitos de estudio en estudiantes con poco tiempo.\"},{titulo:\"Desafío 2\",descripcion:\"Facilitar aprendizaje práctico en primer año.\"},{titulo:\"Desafío 3\",descripcion:\"Mejorar integración de estudiantes internacionales.\"}],persona:{nombre:\"Aisha\",edad:19,bio:\"Estudiante internacional de primer año; barrera idiomática y poco tiempo.\"}}\n  };\n  const [THEMES,setTHEMES]=useState<ThemeConfig>(()=>readJSON<ThemeConfig>(THEMES_KEY,defaultTHEMES));\n  const saveTHEMES=(next:ThemeConfig)=>{setTHEMES(next); writeJSON(THEMES_KEY,next); try{window.dispatchEvent(new StorageEvent(\"storage\",{key:THEMES_KEY,newValue:JSON.stringify(next)}))}catch{}};\n  const [temaSel,setTemaSel]=useState<ThemeId>(\"salud\"); const [desafioIndex,setDesafioIndex]=useState(0); const desafioActual=THEMES[temaSel].desafios[desafioIndex];\n\n  /* --Bubbles size-- */\n  const isTabletMedia=useMediaQuery(\"(max-width: 1180px)\"); const isMobileMedia=useMediaQuery(\"(max-width: 640px)\");\n  const bubbleSize=isMobileMedia?84:isTabletMedia?96:108; const centerBubbleSize=isMobileMedia?115:isTabletMedia?128:138;\n  const bubblePositions:Record<EmpKey,React.CSSProperties>=useMemo(()=>({perfil:{left:\"8%\",top:\"12%\"},limitaciones:{left:\"26%\",top:\"8%\"},motivaciones:{right:\"26%\",top:\"8%\"},entorno:{right:\"8%\",top:\"12%\"},emociones:{left:\"10%\",bottom:\"10%\"},necesidades:{right:\"10%\",bottom:\"10%\"},\n  }),[isTabletMedia,isMobileMedia]);\n\n  /* --Alumno F1 Tab-- */\n  const [f1Tab,setF1Tab]=useState<\"spot\"|\"matrix\">(\"spot\");\n\n  /* --UI helpers-- */\n  const VideoSpace:React.FC<{title:string}>=({title})=>(\n    <Card title={`Por qué es importante: ${title}`} subtitle=\"(Video corto explicativo)\" width={900}>\n      <div style={{width:\"100%\",aspectRatio:\"16/9\",background:theme.gris,borderRadius:16,border:`2px dashed ${theme.border}`,display:\"flex\",alignItems:\"center\",justifyContent:\"center\",color:\"#90A4AE\",fontWeight:700,pointerEvents:\"none\"}}>Video aquí</div>\n    </Card>\n  );\n  const Instructions:React.FC<{title:string;bullets:string[]}>=({title,bullets})=>(\n    <Card title=\"Instrucciones\" subtitle={title} width={900} tight>\n      <div style={{textAlign:\"left\"}}><ol>{bullets.map((b,i)=>(<li key={i} dangerouslySetInnerHTML={{__html:b}}/>))}</ol></div>\n    </Card>\n  );\n  const BigTimer:React.FC<{label?:string;defaultSec:number}>=({label,defaultSec})=>(\n    <div style={{...panelBox,textAlign:\"center\"}}>\n      {label&&<div style={{fontWeight:900,color:theme.azul,marginBottom:6}}>{label}</div>}\n      <div style={{fontSize:64,fontWeight:900,letterSpacing:1,marginBottom:12}}>{mmss(flow.remaining)}</div>\n      <div style={{display:\"flex\",gap:8,justifyContent:\"center\",flexWrap:\"wrap\"}}>\n        <Btn onClick={()=>startTimer()} label=\"▶ Iniciar\" full={false}/>\n        <Btn onClick={()=>pauseTimer()} label=\"⏸ Pausa\" full={false}/>\n        <Btn onClick={()=>resetTimer(defaultSec)} label=\"⟲ Reset\" full={false} variant=\"outline\"/>\n      </div>\n    </div>\n  );\n\n  /* ===================== SCREENS ===================== */\n\n  {/* --INICIO  */}\n  if(mode===\"inicio\")return(\n    <div style={appStyles}>\n      <Background/>\n      <GlobalFormCSS/>\n      <AutoCenter>\n        {!showAdminLogin ? (\n          <Card title=\"Juego de Emprendimiento UDD\" subtitle=\"Selecciona tu perfil\" width={900}>\n            <div style={{display:\"flex\",gap:12,marginTop:12,flexWrap:\"wrap\",justifyContent:\"center\"}}>\n              <Btn onClick={()=>setMode(\"prof\")} label=\"👩‍🏫 Profesor\"/>\n              <Btn onClick={()=>setMode(\"alumno\")} bg={theme.rosa} label=\"🧑‍🎓 Alumno\"/>\n              <Btn onClick={()=>{\n                setShowAdminLogin(true);\n                setAdminUser(\"\"); setAdminPass(\"\"); setAdminErr(\"\");\n              }} bg={theme.amarillo} fg={theme.texto} label=\"🛠️ Administrador\"/>\n            </div>\n          </Card>\n        ) : (\n          <Card title=\"Acceso Administrador\" subtitle=\"Ingresa tus credenciales\" width={520}>\n            <div style={{display:\"grid\",gap:10,marginTop:8}}>\n              <input\n                placeholder=\"Usuario\"\n                value={adminUser}\n                onChange={e=>setAdminUser(e.target.value)}\n                style={baseInput}\n              />\n              <input\n                placeholder=\"Contraseña\"\n                type=\"password\"\n                value={adminPass}\n                onChange={e=>setAdminPass(e.target.value)}\n                style={baseInput}\n                onKeyDown={e=>{\n                  if(e.key===\"Enter\"){\n                    if(adminUser===\"1\" && adminPass===\"1\"){\n                      setMode(\"admin\");\n                      setShowAdminLogin(false);\n                      setAdminUser(\"\"); setAdminPass(\"\"); setAdminErr(\"\");\n                    }else{\n                      setAdminErr(\"Usuario o contraseña incorrectos\");\n                    }\n                  }\n                }}\n              />\n              {adminErr && <div style={{color:\"#D32F2F\",fontWeight:700,fontSize:13}}>{adminErr}</div>}\n              <div style={{display:\"flex\",gap:10,justifyContent:\"space-between\",marginTop:6}}>\n                <Btn\n                  label=\"⬅ Volver\"\n                  bg={theme.amarillo}\n                  fg={theme.texto}\n                  full={false}\n                  onClick={()=>{ setShowAdminLogin(false); setAdminErr(\"\"); }}\n                />\n                <Btn\n                  label=\"Ingresar\"\n                  full={false}\n                  onClick={()=>{\n                    if(adminUser===\"1\" && adminPass===\"1\"){\n                      setMode(\"admin\");\n                      setShowAdminLogin(false);\n                      setAdminUser(\"\"); setAdminPass(\"\"); setAdminErr(\"\");\n                    }else{\n                      setAdminErr(\"Usuario o contraseña incorrectos\");\n                    }\n                  }}\n                />\n              </div>\n            </div>\n          </Card>\n        )}\n      </AutoCenter>\n    </div>\n  );\n\n  {/* --ADMIN-- */}\n  if(mode===\"admin\"){return(<div style={appStyles}><Background/><GlobalFormCSS/><AutoCenter>\n    <AdminDashboard analytics={analytics} THEMES={THEMES} setTHEMES={saveTHEMES} flow={flow} onBack={()=>setMode(\"inicio\")} ranking={ranking}\n      clearMetrics={()=>update(()=>({roomsCreated:0,challengeUsage:{},teams:[],reflections:[],feedbacks:[]}))}\n      />\n  </AutoCenter></div>)}\n\n  {/* --PROFESOR-- */}\n  if(mode===\"prof\"){return(<div style={appStyles}><Background/><GlobalFormCSS/><AutoCenter>\n\n {/* --CREAR SALA-- */}\n{!flow.roomCode?(\n  <Card title=\"Crear Nueva Sala\" subtitle=\"Define cantidad de equipos\" width={820}>\n    <div style={{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:12}}>\n      <div>\n        <label style={{fontSize:12,fontWeight:800,color:theme.azul}}>Cantidad de equipos</label>\n        <select\n          value={String(equiposQty)}\n          onChange={e=>setEquiposQty(Number(e.target.value))}\n          style={{...baseInput,padding:10,marginTop:6}}\n        >\n          <option value=\"3\">3</option>\n          <option value=\"4\">4</option>\n        </select>\n      </div>\n\n      <div style={{alignSelf:\"end\"}}>\n        <Btn\n          onClick={()=>{\n            const code = generateCode();\n\n            writeJSON(READY_KEY, []);\n            try {\n              window.dispatchEvent(new StorageEvent(\"storage\", {key: READY_KEY, newValue: JSON.stringify([])}));\n            } catch {}\n\n            writeJSON(COINS_KEY, {});\n            try {\n              window.dispatchEvent(new StorageEvent(\"storage\", {key: COINS_KEY, newValue: JSON.stringify({})}));\n            } catch {}\n\n            publish({\n              roomCode: code,\n              expectedTeams: equiposQty,\n              step: \"lobby\",\n              remaining: 5*60,\n              running: false\n            });\n\n            update(a => ({...a, roomsCreated: a.roomsCreated + 1}));\n          }}\n          bg={theme.rosa}\n          label=\"Generar Código\"\n        />\n      </div>\n    </div>\n  </Card>\n):null}\n\n    {/* --LOBBY-- */}\n    {flow.roomCode&&flow.step===\"lobby\"&&(\n  <div style={{width:\"clamp(320px,92vw,1100px)\", display:\"grid\", gridTemplateColumns:\"1fr 320px\", gap:12}}>\n    <Card title=\"Sala creada\" subtitle=\"Comparte el código y espera a los equipos\" width={700}>\n      <div style={{fontSize:32,fontFamily:\"Roboto Mono, ui-monospace, SFMono-Regular, Menlo, monospace\",marginBottom:8,color:theme.azul}}>\n        {flow.roomCode}\n      </div>\n      <div style={{fontSize:13,opacity:.8,marginBottom:12}}>\n        Equipos listos: <b>{readyNow}</b> / <b>{flow.expectedTeams}</b>\n      </div>\n      <Btn\n        onClick={()=>{ if(readyNow<flow.expectedTeams) return; setStep(\"f1_video\"); }}\n        label=\"Continuar con todos\"\n        disabled={readyNow<flow.expectedTeams}\n      />\n    </Card>\n\n    {/* Sidebar en vivo */}\n    <div style={{display:\"grid\",gap:12, alignContent:\"start\"}}>\n      <div style={panelBox as React.CSSProperties}>\n        <div style={badgeTitle}>👥 Equipos creados</div>\n        {teamsForCurrentRoom(analytics, flow.roomCode).length===0 ? (\n          <div style={{opacity:.7}}>Aún no se crean grupos…</div>\n        ) : (\n          <div style={{display:\"grid\",gap:6}}>\n            {teamsForCurrentRoom(analytics, flow.roomCode).map((name,i)=>(\n              <div key={i} style={{display:\"grid\", gridTemplateColumns:\"1fr auto\", gap:8}}>\n                <div><b>{name}</b></div>\n                <div style={{fontSize:12, opacity:.7}}>#{i+1}</div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div style={panelBox as React.CSSProperties}>\n        <div style={badgeTitle}>✅ Marcados “listo”</div>\n        {(() => {\n          const readySet = readyTeamNames(flow.roomCode);\n          const all = teamsForCurrentRoom(analytics, flow.roomCode);\n          const readyList = all.filter(t=>readySet.has(t));\n          return readyList.length===0 ? (\n            <div style={{opacity:.7}}>Sin equipos listos aún…</div>\n          ) : (\n            <div style={{display:\"grid\",gap:6}}>\n              {readyList.map((t,i)=>(\n                <div key={i}>• <b>{t}</b></div>\n              ))}\n            </div>\n          )\n        })()}\n      </div>\n    </div>\n  </div>\n)}\n\n{/* --F1 VIDEO (PROFESOR)-- */}\n{flow.step===\"f1_video\" && (\n  <>\n    <div style={{ marginBottom: 12 }}>\n      <TeamworkMiniAnim loop /> \n    </div>\n\n    {/* Botón solo para profesor */}\n    <div style={{ display:\"flex\", justifyContent:\"center\" }}>\n      <Btn\n        onClick={()=>setStep(\"f1_instr\")}\n        label=\"Continuar con todos\"\n        full={false}\n      />\n    </div>\n  </>\n)}\n\n{flow.step===\"f1_instr\"&&(<><Instructions title=\"Fase 1 — Trabajo en equipo\" bullets={[\"Juego 1: <b>Spot the Difference</b>.\",\"Juego 2: <b>Matriz de luces</b>.\",\"El tiempo es compartido; ustedes deciden cómo distribuirlo.\"]}/>\n  <Btn onClick={()=>{resetTimer(5*60); setStep(\"f1_activity\",5*60)}} label=\"Abrir juegos y timer\" full={false}/></>)}\n{flow.step===\"f1_activity\"&&(<Card title=\"Fase 1 — En curso\" subtitle=\"Timer visible para todos\" width={720}><BigTimer label=\"Tiempo F1 (Diferencias/Matriz)\" defaultSec={5*60}/>\n  <div style={{display:\"flex\",justifyContent:\"center\",marginTop:12}}><Btn onClick={()=>setStep(\"f1_rank\")} label=\"Terminar y ver ranking\" full={false}/></div></Card>)}\n{flow.step===\"f1_rank\"&&(<Card title=\"Ranking — Fase 1\" subtitle=\"Resultados en vivo\" width={900}><ConfettiBurst/><RankingBars data={ranking} onContinue={()=>setStep(\"f2_video\")}/></Card>)}\n\n{/* --F2 VIDEO (PROFESOR) -- */}\n{flow.step===\"f2_video\" && (\n  <>\n    <div style={{ marginBottom: 12 }}>\n      <EmpathyAnimacion loop />\n    </div>\n    <div style={{ display:\"flex\", justifyContent:\"center\" }}>\n      <Btn\n        onClick={()=>setStep(\"f2_instr\")}\n        label=\"Continuar con todos\"\n        full={false}\n      />\n    </div>\n  </>\n)}\n\n{flow.step===\"f2_instr\"&&(<><Instructions title=\"Fase 2 — Empatía\" bullets={[\"Elige temática y desafío.\",\"Completen el <b>mapa de empatía</b> (10:00).\"]}/>\n  <Btn onClick={()=>setStep(\"f2_theme\")} label=\"Ir a Temática y Desafío\" full={false}/></>)}\n{flow.step===\"f2_theme\"&&(<Card title=\"Temáticas y desafío\" subtitle=\"Cuando estén listos, inicia el mapa\" width={980}>\n  <ThemeChallengeSection THEMES={THEMES} temaSel={temaSel} setTemaSel={setTemaSel} desafioIndex={desafioIndex} setDesafioIndex={setDesafioIndex} desafioActual={desafioActual} isTablet={isTablet} onContinue={()=>{}}/>\n  <div style={{display:\"flex\",justifyContent:\"center\",marginTop:12}}>\n    <Btn onClick={()=>{update(a=>{const key=`${temaSel}#${desafioIndex}`; const usage={...a.challengeUsage}; usage[key]=(usage[key]||0)+1; return {...a,challengeUsage:usage};}); resetTimer(10*60); setStep(\"f2_activity\",10*60);}} label=\"Abrir mapa y timer\" full={false}/>\n  </div>\n</Card>)}\n{flow.step===\"f2_activity\"&&(<Card title=\"Fase 2 — En curso\" subtitle=\"Mapa de empatía (timer)\" width={720}><BigTimer label=\"Tiempo F2 (Empatía)\" defaultSec={10*60}/>\n  <div style={{display:\"flex\",justifyContent:\"center\",marginTop:12}}><Btn onClick={()=>setStep(\"f2_rank\")} label=\"Terminar y ver ranking\" full={false}/></div></Card>)}\n{flow.step===\"f2_rank\"&&(<Card title=\"Ranking — Fase 2\" subtitle=\"Resultados en vivo\" width={900}><RankingBars data={ranking} onContinue={()=>setStep(\"f3_video\")}/></Card>)}\n\n{flow.step===\"f3_video\"&&(\n  <>\n    <div style={{ marginBottom: 12 }}>\n      <CreatividadAnimacion loop />\n    </div>\n    <Btn\n      onClick={()=>{\n        resetTimer(15*60);             \n        setStep(\"f3_activity\",15*60);\n      }}\n      label=\"Abrir actividad y timer\"\n      full={false}\n    />\n  </>\n)}\n\n{flow.step===\"f3_activity\"&&(<Card title=\"Fase 3 — En curso\" subtitle=\"Creatividad (timer)\" width={720}><BigTimer label=\"Tiempo F3 (Creatividad)\" defaultSec={15*60}/>\n  <div style={{display:\"flex\",justifyContent:\"center\",marginTop:12}}><Btn onClick={()=>setStep(\"f3_rank\")} label=\"Terminar y ver ranking\" full={false}/></div></Card>)}\n{flow.step===\"f3_rank\"&&(<Card title=\"Ranking — Fase 3\" subtitle=\"Resultados en vivo\" width={900}><RankingBars data={ranking} onContinue={()=>setStep(\"f4_video\")}/></Card>)}\n\n{/* --F4 VIDEO (PROFESOR) -- */}\n{flow.step===\"f4_video\"&&(\n  <PitchAnimacion\n    showContinue\n    onContinue={()=>{\n      resetTimer(10*60);              \n      setStep(\"f4_prep\", 10*60);\n    }}\n  />\n)}\n\n{/* --F4 PREP-- */}\n{flow.step===\"f4_prep\"&&(\n  <Card title=\"Fase 4 — Preparación del Pitch\" subtitle=\"Timer visible\" width={720}>\n    <BigTimer label=\"Tiempo F4 (Preparación)\" defaultSec={10*60}/>\n    <div style={{display:\"flex\",justifyContent:\"center\",marginTop:12}}>\n      <Btn onClick={()=>setStep(\"f4_wheel\")} label=\"Ir a RUEDA de orden\" full={false}/>\n    </div>\n  </Card>\n)}\n{/* --F4 WHEEL (orden de presentación)-- */}\n{flow.step===\"f4_wheel\"&&(\n  <Card title=\"Fase 4 — Orden de Presentación\" subtitle=\"Gira la ruleta o genera orden aleatorio\" width={980}>\n    <WheelOrder\n      teams={getTeamsForRoom(analytics, flow.roomCode)}\n      onConfirm={(order)=>{\n        publish({presentOrder:order,currentIdx:0});\n        resetTimer(flow.pitchSeconds);\n        setStep(\"f4_present\", flow.pitchSeconds);\n      }}\n    />\n  </Card>\n)}\n\n{/* --F4 PRESENT (profesor controla los turnos)-- */}\n{flow.step===\"f4_present\"&&(\n  <PresentStageTeacher\n    currentTeam={flow.presentOrder?.[flow.currentIdx] ?? \"-\"}\n    pitchSec={flow.pitchSeconds}\n    startTimer={()=>startTimer()}\n    pauseTimer={()=>pauseTimer()}\n    resetTimer={(s)=>resetTimer(s)}\n    remaining={flow.remaining}\n    onNext={()=>{\n      const nextIdx=flow.currentIdx+1;\n      if(nextIdx>=flow.presentOrder.length){\n        setStep(\"f5_video\");\n      }else{\n        publish({currentIdx:nextIdx});\n        resetTimer(flow.pitchSeconds);\n        setStep(\"f4_present\", flow.pitchSeconds);\n      }\n    }}\n  />\n)}\n\n{/* --F5 (profesor) -- */}\n{flow.step===\"f5_video\"&&(\n  <>\n    <VideoSpace title=\"Evaluación y retroalimentación\" />\n    <div style={{ display:\"flex\", justifyContent:\"center\", marginTop:12 }}>\n      <Btn onClick={()=>setStep(\"f5_eval\")} label=\"Abrir evaluación\" full={false}/>\n    </div>\n  </>\n)}\n\n{flow.step===\"f5_eval\"&&(\n  <Card title=\"Fase 5 — Evaluación\" subtitle=\"Cada equipo califica a los demás\" width={900}>\n    <div style={{fontSize:13,opacity:.8,marginBottom:12}}>\n      Los estudiantes verán una interfaz con 6 criterios (deslizadores 0–5) y comentario opcional. Cada punto suma 1 moneda al equipo evaluado.\n    </div>\n    <div style={{display:\"flex\",gap:10,justifyContent:\"center\"}}>\n      <Btn onClick={()=>setStep(\"f5_rank\")} label=\"Ver ranking actualizado\" full={false}/>\n    </div>\n  </Card>\n)}\n\n{flow.step===\"f5_rank\"&&(\n  <Card title=\"Ranking — Fase 5\" subtitle=\"Resultados en vivo\" width={900}>\n    <RankingBars data={ranking} onContinue={()=>setStep(\"f6_video\")}/>\n  </Card>\n)}\n\n{/* --F6 / CIERRE (profesor)-- */}\n{flow.step===\"f6_video\"&&(\n  <>\n    <VideoSpace title=\"Cierre y reflexión\"/>\n    <Btn onClick={()=>setStep(\"f6_close\")} label=\"Ir a cierre\" full={false}/>\n  </>\n)}\n\n{flow.step===\"f6_close\"&&(\n  <Card title=\"Cierre y Apoyo\" subtitle=\"Reflexión final (demo)\" width={900} tight>\n    <div style={{textAlign:\"left\"}}>\n      <p style={{marginTop:0}}>🎉 ¡Felicitaciones! Pidan a cada equipo escribir su reflexión final.</p>\n      <textarea placeholder=\"(Vista profesor) — Aquí solo mostramos un ejemplo\" style={{...baseInput,minHeight:120}}/>\n    </div>\n    <div style={{display:\"flex\",justifyContent:\"center\",gap:10,marginTop:12}}>\n      <Btn onClick={()=>setStep(\"qr\")} bg={theme.azul} label=\"Ir a QR\" full={false}/>\n    </div>\n  </Card>\n)}\n\n{flow.step===\"qr\"&&(\n  <Card title=\"¡Evalúa el juego!\" subtitle=\"Escanea el código QR con tu celular\" width={700}>\n    <div style={{width:260,height:260,margin:\"12px auto\",background:\"#fff\",border:`3px dashed ${theme.border}`,borderRadius:16,display:\"grid\",placeItems:\"center\",color:\"#90A4AE\",fontWeight:800}}>QR aquí</div>\n    <Btn\n      onClick={()=>{\n        // reset de sala\n        publish({roomCode:\"\",expectedTeams:0,step:\"lobby\",remaining:5*60,running:false});\n        clearReadyForRoom();\n        writeJSON(COINS_KEY,{});\n        try{window.dispatchEvent(new StorageEvent(\"storage\",{key:COINS_KEY,newValue:JSON.stringify({})}))}catch{}\n      }}\n      bg={theme.rosa}\n      label=\"Terminar\"\n      full={false}\n    />\n  </Card>\n)}\n\n</AutoCenter></div>)}\n\n{/* ================= ALUMNO ================= */}\nif(mode===\"alumno\"){return(<div style={appStyles}><Background/><GlobalFormCSS/><AutoCenter>\n\n{/* --LOGIN (Alumno ingresa código)-- */}\n{(!joinedRoom || joinedRoom !== flow.roomCode) && (\n  <Card title=\"Alumno\" subtitle=\"Ingresa el código de sala para continuar\" width={520}>\n    <input\n      placeholder=\"Código de sala\"\n      value={roomCode}\n      onChange={e=>setRoomCode(e.target.value.toUpperCase())}\n      style={{...baseInput,textAlign:\"center\",fontWeight:700,marginBottom:14}}\n    />\n    <Btn\n      onClick={()=>{\n        const f=readJSON<FlowState>(FLOW_KEY,initialFlow);\n        if(!f.roomCode){\n          alert(\"Aún no hay sala activa. Espera al profesor.\");\n          return;\n        }\n        if(f.roomCode !== roomCode.trim()){\n          alert(\"Código incorrecto. Verifica con el profesor.\");\n          return;\n        }\n        sessionStorage.setItem(JOINED_KEY, f.roomCode);\n        setJoinedRoom(f.roomCode);\n      }}\n      label=\"Entrar a la sala\"\n    />\n    <Btn onClick={()=>setMode(\"inicio\")} bg={theme.amarillo} fg={theme.texto} label=\"⬅ Back\"/>\n  </Card>\n)}\n\n{/* --CREAR GRUPO-- */}\n{joinedRoom === flow.roomCode && flow.roomCode && !teamReady && (\n  <Card title={`Sala ${flow.roomCode}`} subtitle=\"Crea tu grupo y marca listo\" width={980}>\n    <div style={{display:\"grid\",gridTemplateColumns:isTablet?\"1fr\":\"1fr 1fr auto\",gap:10,marginBottom:12}}>\n      <input placeholder=\"Nombre de grupo\" value={groupName} onChange={e=>setGroupName(e.target.value)} style={baseInput}/>\n      <div style={{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:10}}>\n        <input placeholder=\"Tu nombre\" value={miNombre} onChange={e=>setMiNombre(e.target.value)} style={baseInput}/>\n        <input placeholder=\"Tu carrera\" value={miCarrera} onChange={e=>setMiCarrera(e.target.value)} style={baseInput}/>\n      </div>\n      <Btn\n        onClick={()=>{\n          if(!groupName.trim()){\n            alert(\"Primero escribe el nombre del grupo.\");\n            return;\n          }\n          setIntegrantes(arr=>[...arr,{ nombre: (miNombre||\"Integrante\"), carrera: (miCarrera||\"—\") }]);\n          setMiNombre(\"\");\n          setMiCarrera(\"\");\n        }}\n        bg={theme.rosa}\n        label=\"Agregar integrante\"\n        full={false}\n      />\n    </div>\n\n    <div style={{textAlign:\"left\",maxHeight:220,overflowY:\"auto\",padding:8,border:`1px dashed ${theme.border}`,borderRadius:12,background:\"#fff\"}}>\n      {integrantes.length===0 && (<div style={{opacity:.7}}>Aún no hay integrantes…</div>)}\n      {integrantes.map((p,i)=>(\n        <div key={i} style={{display:\"grid\",gridTemplateColumns:\"40px 1fr 1fr\",gap:10,padding:\"8px 0\",alignItems:\"center\",borderBottom: i<integrantes.length-1 ? \"1px solid #eee\" : \"none\"}}>\n          <div style={{fontWeight:800,color:theme.azul}}>{i+1}.</div>\n          <div style={{fontWeight:700}}>{p.nombre}</div>\n          <div style={{opacity:.8}}>{p.carrera}</div>\n        </div>\n      ))}\n    </div>\n\n    <div style={{display:\"flex\",gap:10,marginTop:12,justifyContent:\"space-between\",flexWrap:\"wrap\"}}>\n      <Btn onClick={()=>setMode(\"inicio\")} bg={theme.amarillo} fg={theme.texto} label=\"⬅ Back\" full={false}/>\n      <Btn onClick={markReady} label=\"Marcar listo y esperar al profesor\" full={false} disabled={!groupName.trim()}/>\n    </div>\n  </Card>\n)}\n\n{/* --ESPERA (alumno listo, profesor aún no inicia)-- */}\n{joinedRoom===flow.roomCode && flow.roomCode && teamReady && flow.step===\"lobby\" && (\n  <Card title=\"Esperando al profesor\" subtitle=\"Aún no inicia la fase 1\" width={720}>\n    <div style={{textAlign:\"center\",fontSize:18,padding:20}}>\n      ⏳ Esperando a que el profesor comience...\n    </div>\n    <div style={{textAlign:\"center\",opacity:.7,fontSize:14}}>\n      Verifica en la sala del profesor que tu grupo aparece como <b>listo</b>.\n    </div>\n  </Card>\n)}\n\n{/* --F1 (Alumno con pestañas)-- */}\n{flow.step===\"f1_video\"&&<TeamworkMiniAnim onContinue={()=> setStep(\"f1_instr\")} />}\n{flow.step===\"f1_instr\"&&<Instructions title=\"Fase 1 — Trabajo en equipo\" bullets={[\"El profesor controla el tiempo y el avance.\",\"Usa las pestañas para cambiar entre <b>Diferencias</b> y <b>Matriz</b>.\",\"Ambos comparten el mismo temporizador.\"]}/>}\n\n{flow.step===\"f1_activity\"&&(\n  <Card title=\"Fase 1 — Actividades\" subtitle={`Tiempo: ${mmss(flow.remaining)} · Monedas: ${coins}`} width={1100}>\n    <div style={{position:\"sticky\",top:12,zIndex:5,background:\"transparent\",paddingBottom:6,marginBottom:10}}>\n      <div style={{display:\"flex\",gap:8,overflowX:\"auto\"}}>\n        {[{key:\"spot\",label:\"🔎 Diferencias\"},{key:\"matrix\",label:\"🔲 Matriz\"}].map(t=>{\n          const active=f1Tab===(t.key as \"spot\"|\"matrix\");\n          return(\n            <button key={t.key} onClick={()=>setF1Tab(t.key as \"spot\"|\"matrix\")} style={{padding:\"8px 12px\",borderRadius:12,border:`2px solid ${active?theme.rosa:theme.border}`,background:active?\"#FFF3F7\":\"#fff\",fontWeight:800,cursor:\"pointer\",whiteSpace:\"nowrap\"}}>\n              {t.label}\n            </button>\n          );\n        })}\n      </div>\n    </div>\n\n    {f1Tab===\"spot\"?(\n      <>\n        <div style={{fontSize:13,marginBottom:8,opacity:.9}}>Toca en la <b>imagen izquierda</b> donde veas una diferencia. Puedes usar hasta 2 pistas (−1 moneda).</div>\n        <div style={{display:\"grid\",gridTemplateColumns:isTablet?\"1fr\":\"1fr 1fr\",gap:16}}>\n          {/* izquierda clickeable */}\n          <div ref={spotRef} onClick={clickSpot} style={{position:\"relative\",width:\"100%\",aspectRatio:\"16/7\",background:\"#fff\",borderRadius:16,overflow:\"hidden\",cursor:flow.running?\"crosshair\":\"not-allowed\",border:`1px solid ${theme.border}`}}>\n            <svg viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\" style={{position:\"absolute\",inset:0,width:\"100%\",height:\"100%\"}}>\n              <rect x=\"5\" y=\"10\" width=\"20\" height=\"20\" fill=\"#90CAF9\"/><circle cx=\"50\" cy=\"25\" r=\"10\" fill=\"#F48FB1\"/>\n              <polygon points=\"80,15 90,35 70,35\" fill=\"#A5D6A7\"/><polygon points=\"30,70 40,90 20,90\" fill={theme.amarillo}/>\n            </svg>\n            <div style={{position:\"absolute\",inset:0,display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gridTemplateRows:\"1fr 1fr\"}}>\n              {[\"A\",\"B\",\"C\",\"D\"].map(z=>(\n                <div key={z} style={{outline:\"1px dashed rgba(0,0,0,.06)\",padding:6,fontSize:12,color:\"#78909C\"}}>{z}</div>\n              ))}\n            </div>\n            {diffs.filter(d=>d.found).map((d,i)=>(\n              <div key={i} style={{position:\"absolute\",left:`${d.x*100}%`,top:`${d.y*100}%`,transform:\"translate(-50%,-50%)\",width:d.r*200,height:d.r*200,borderRadius:\"50%\",border:`3px solid ${theme.rosa}`,boxShadow:\"0 0 0 4px rgba(233,30,99,.2)\"}}/>\n            ))}\n          </div>\n          {/* derecha referencia */}\n          <div style={{position:\"relative\",width:\"100%\",aspectRatio:\"16/7\",...panelBox,overflow:\"hidden\"}}>\n            <svg viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\" style={{position:\"absolute\",inset:0,width:\"100%\",height:\"100%\"}}>\n              <rect x=\"5\" y=\"10\" width=\"20\" height=\"22\" fill=\"#90CAF9\"/><circle cx=\"50\" cy=\"25\" r=\"9\" fill=\"#F48FB1\"/>\n              <polygon points=\"82,17 92,37 72,37\" fill=\"#A5D6A7\"/><rect x=\"22\" y=\"80\" width=\"16\" height=\"8\" fill={theme.amarillo}/>\n            </svg>\n          </div>\n        </div>\n        <div style={{display:\"flex\",gap:10,justifyContent:\"space-between\",alignItems:\"center\",marginTop:12,flexWrap:\"wrap\"}}>\n          <div style={{fontSize:13,opacity:.8}}>Encontradas: {diffs.filter(d=>d.found).length}/4 · Pistas: {hintsLeft}</div>\n          <Btn onClick={useHint} bg={theme.amarillo} fg={theme.texto} label=\"💡 Pista (−1)\" full={false} disabled={hintsLeft<=0||!flow.running}/>\n        </div>\n      </>\n    ):(\n      <>\n        <div style={{fontSize:13,marginBottom:8,opacity:.9}}>Reproduce el <b>patrón objetivo</b> en tu tablero. El tiempo sigue corriendo.</div>\n        <div style={{display:\"grid\",gridTemplateColumns:isTablet?\"1fr\":\"1fr 1fr\",gap:16,alignItems:\"start\"}}>\n          <div style={panelBox}>\n            <div style={badgeTitle}>Patrón objetivo</div>\n            <GridView readOnly grid={goal} size={5} onClickCell={()=>{}}/>\n            <div style={smallHint}>Celdas encendidas: {goal.flat().filter(Boolean).length}</div>\n          </div>\n          <div style={panelBox}>\n            <div style={badgeTitle}>Tablero del equipo</div>\n            <GridView grid={grid} size={5} onClickCell={toggleCell}/>\n            <div style={smallHint}>Progreso: {grid.flat().filter((v,i)=>v===goal.flat()[i]).length}/{5*5} coincidencias</div>\n          </div>\n        </div>\n      </>\n    )}\n  </Card>\n)}\n{/* --F1 Rank (Alumno) -- */}\n{flow.step===\"f1_rank\"&&(\n  <Card title=\"Ranking — Fase 1\" subtitle=\"Resultados en vivo\" width={900}>\n    <RankingBars data={ranking} onContinue={()=>setStep(\"f2_video\")}/>\n  </Card>\n)}\n{/* --F2 Alumno-- */}\n{flow.step===\"f2_video\" && <EmpathyAnimacion loop /> }\n{flow.step===\"f2_instr\"&&<Instructions title=\"Fase 2 — Empatía\" bullets={[\"El profesor anunciará la temática/desafío.\",\"Completa el mapa de empatía. El tiempo lo controla el profesor.\"]}/>}\n{flow.step===\"f2_theme\"&&(\n  <Card title=\"Temática y desafío\" subtitle=\"Esperando al profesor para iniciar el mapa\" width={980}>\n    <ThemeChallengeSection THEMES={THEMES} temaSel={temaSel} setTemaSel={setTemaSel} desafioIndex={desafioIndex} setDesafioIndex={setDesafioIndex} desafioActual={desafioActual} isTablet={isTablet} onContinue={()=>{}}/>\n  </Card>\n)}\n{flow.step===\"f2_activity\"&&(\n  <Card title={`Etapa 2 — ${THEMES[temaSel].label}: ${desafioActual.titulo}`} subtitle={`Tiempo: ${mmss(flow.remaining)} · Monedas: ${coins}`} width={1100}>\n    <EmpathySection\n      isTablet={isTablet} isMobile={isMobile}\n      bubbleSize={bubbleSize} centerBubbleSize={centerBubbleSize} bubblePositions={bubblePositions}\n      EMPATIA_FIELDS={EMPATIA_FIELDS} empatia={empatia}\n      setActiveBubble={setActiveBubble} activeBubble={activeBubble}\n      onEmpatiaChange={onEmpatiaChange}\n    />\n  </Card>\n)}\n{/* --F2 Rank (Alumno) -- */}\n{flow.step===\"f2_rank\"&&(\n  <Card title=\"Ranking — Fase 2\" subtitle=\"Resultados en vivo\" width={900}>\n    <RankingBars data={ranking} onContinue={()=>setStep(\"f3_video\")}/>\n  </Card>\n)}\n{/* --F3 Alumno-- */}\n{flow.step===\"f3_video\" && <CreatividadAnimacion loop /> }\n{flow.step===\"f3_activity\"&&(\n  <Card title=\"Etapa 3 — Creatividad (LEGO)\" subtitle={`Tiempo: ${mmss(flow.remaining)} · Monedas: ${coins}`} width={900}>\n    <div style={{display:\"grid\",gridTemplateColumns:isTablet?\"1fr\":\"1fr 1fr\",gap:10,alignItems:\"center\"}}>\n      <div>\n        <p style={{marginTop:0}}>Sube una foto de tu solución (demo):</p>\n        <input type=\"file\" accept=\"image/*\"/>\n      </div>\n      <div>\n        <p style={{marginTop:0}}>Mini-retos (3 monedas c/u):</p>\n        <div style={{display:\"grid\",gap:8}}>\n          {[\"Prototipo montado\",\"Solución explicada\",\"Foto clara\"].map(r=>(\n            <Btn key={r} onClick={()=>setCoins(c=>c+3)} bg={\"#C8E6C9\"} fg={\"#1B5E20\"} label={`✔ ${r}`}/>\n          ))}\n        </div>\n      </div>\n    </div>\n  </Card>\n)}\n{/* --F3 Rank (Alumno) -- */}\n{flow.step===\"f3_rank\"&&(\n  <Card title=\"Ranking — Fase 3\" subtitle=\"Resultados en vivo\" width={900}>\n    <RankingBars data={ranking} onContinue={()=>setStep(\"f4_video\")}/>\n  </Card>\n)}\n{/* --F4 Alumno-- */}\n{flow.step===\"f4_video\"&&(<PitchAnimacion />)}\n{flow.step===\"f4_prep\"&&(\n  <Card title=\"Etapa 4 — Comunicación (preparación)\" subtitle={`Tiempo: ${mmss(flow.remaining)}`} width={1100} tight>\n    <div style={{display:\"grid\",gridTemplateColumns:isTablet?\"1fr\":\"380px 1fr\",gap:12,textAlign:\"left\"}}>\n      <div style={{...panelBox}}>\n        <div style={badgeTitle}>Estructura recomendada</div>\n        <ol style={{marginTop:0,paddingLeft:18}}>\n          <li><b>Hook</b> (problema en 1 frase)</li>\n          <li><b>Usuario</b> y evidencia breve</li>\n          <li><b>Solución</b> y cómo funciona</li>\n          <li><b>Valor</b> (qué mejora, métricas)</li>\n          <li><b>Impacto</b> y próximos pasos</li>\n        </ol>\n      </div>\n      <div style={{...panelBox}}>\n        <div style={badgeTitle}>Borrador del pitch</div>\n        <textarea placeholder=\"Escribe tu pitch...\" style={{...baseInput,minHeight:260}}/>\n      </div>\n    </div>\n  </Card>\n)}\n{flow.step===\"f4_present\"&&(\n  <EvaluationPanelStudent\n    roomCode={flow.roomCode}\n    teams={getTeamsForRoom(analytics, flow.roomCode)}\n    analyticsUpdate={update}\n    fromTeam={(teamId.split(\"::\")[1]||\"Equipo\")}\n    bare\n  />\n)}\n\n{flow.step===\"f5_video\"&&(\n  <Card title=\"¡Evalúa el juego!\" subtitle=\"Escanea el código QR con tu celular\" width={700}>\n    <div\n      style={{\n        width:260,\n        height:260,\n        margin:\"12px auto\",\n        background:\"#fff\",\n        border:`3px dashed ${theme.border}`,\n        borderRadius:16,\n        display:\"grid\",\n        placeItems:\"center\",\n        color:\"#90A4AE\",\n        fontWeight:800\n      }}\n    >\n      QR aquí\n    </div>\n  </Card>\n)}\n\n\n{/* --F5 Rank (Alumno) -- */}\n{flow.step===\"f5_rank\"&&(\n  <Card title=\"Ranking — Fase 5\" subtitle=\"Resultados en vivo\" width={900}>\n    <RankingBars data={ranking} onContinue={()=>setStep(\"f6_video\")}/>\n  </Card>\n)}\n{/* --F6 / QR Alumno-- */}\n{flow.step===\"f6_video\"&&(<VideoSpace title=\"Cierre y reflexión\"/>)}\n{flow.step===\"f6_close\"&&(\n  <Card title=\"Cierre y Apoyo\" subtitle={`Monedas finales: ${coins}`} width={900} tight>\n    <div style={{textAlign:\"left\"}}>\n      <p style={{marginTop:0}}>🎉 ¡Felicitaciones! Escribe tu reflexión final.</p>\n      <textarea id=\"reflexionText\" placeholder=\"Escribe tu reflexión...\" style={{...baseInput,minHeight:120}}/>\n      <div style={{display:\"flex\",justifyContent:\"flex-end\",marginTop:8}}>\n        <Btn\n          label=\"Enviar reflexión\"\n          full={false}\n          onClick={()=>{\n            const ta=document.getElementById(\"reflexionText\") as HTMLTextAreaElement|null;\n            const text=(ta?.value||\"\").trim();\n            if(!text){alert(\"Escribe una reflexión primero\");return;}\n            const teamName=teamId.split(\"::\")[1]||\"Equipo\";\n            update(a=>({...a,reflections:[...a.reflections,{roomCode:flow.roomCode,teamName,text,ts:Date.now()}]}));\n            alert(\"¡Gracias! Reflexión registrada.\"); if(ta)ta.value=\"\";\n          }}\n        />\n      </div>\n    </div>\n  </Card>\n)}\n{flow.step===\"qr\"&&(\n  <Card title=\"¡Evalúa el juego!\" subtitle=\"Escanea el código QR con tu celular\" width={700}>\n    <div style={{width:260,height:260,margin:\"12px auto\",background:\"#fff\",border:`3px dashed ${theme.border}`,borderRadius:16,display:\"grid\",placeItems:\"center\",color:\"#90A4AE\",fontWeight:800}}>QR aquí</div>\n  </Card>\n)}\n\n</AutoCenter></div>)}\n\nreturn null;\n}\n\n/* ===================== REUSABLES ===================== */\nfunction GridView({grid,size,onClickCell,readOnly}:{grid:boolean[][];size:number;onClickCell:(r:number,c:number)=>void;readOnly?:boolean;}){\n  const isTablet=useMediaQuery(\"(max-width: 1180px)\"); const isMobile=useMediaQuery(\"(max-width: 640px)\"); const cell=isMobile?22:isTablet?28:34;\n  return(<div style={{display:\"grid\",gridTemplateColumns:`repeat(${size}, ${cell}px)`,gap:6,justifyContent:\"center\"}}>\n    {grid.map((row,r)=>row.map((on,c)=>(\n      <button key={`${r}-${c}`} onClick={()=>!readOnly&&onClickCell(r,c)} style={{width:cell,height:cell,borderRadius:8,border:`1px solid ${theme.border}`,background:on?theme.rosa:\"#FFFFFF\",boxShadow:on?\"inset 0 0 0 3px rgba(233,30,99,.15)\":\"none\",cursor:readOnly?\"default\":\"pointer\"}}/>\n    )))}\n  </div>);\n}\n\n/* --Tema/Desafío UI-- */\nfunction ThemeChallengeSection({THEMES,temaSel,setTemaSel,desafioIndex,setDesafioIndex,desafioActual,isTablet,onContinue}:any){\n  return(<>\n    <div style={{display:\"flex\",gap:8,justifyContent:\"center\",marginBottom:12,flexWrap:\"wrap\",position:\"relative\",zIndex:3}}>\n      {(Object.keys(THEMES) as (keyof typeof THEMES)[]).map(key=>{\n        const active=temaSel===key;\n        return(\n          <Btn key={key} onClick={()=>setTemaSel(key)} bg={active?theme.azul:\"#BBDEFB\"} fg={active?theme.blanco:theme.texto} label={THEMES[key].label} full={false}/>\n        );\n      })}\n    </div>\n    <div style={{display:\"grid\",gridTemplateColumns:isTablet?\"1fr\":\"280px 1fr 360px\",gap:16,alignItems:\"start\"}}>\n      <div style={panelBox}>\n        <div style={{...badgeTitle,marginBottom:8}}>Desafíos</div>\n        <div style={{display:\"grid\",gap:8}}>\n          {THEMES[temaSel].desafios.map((d:any,idx:number)=>{\n            const active=desafioIndex===idx;\n            return(\n              <button key={idx} onClick={()=>setDesafioIndex(idx)} style={{textAlign:\"left\",padding:10,borderRadius:12,border:`2px solid ${active?theme.rosa:theme.border}`,background:active?\"#FFF3F7\":\"#fff\",fontWeight:700,cursor:\"pointer\"}}>\n                {d.titulo}\n              </button>\n            )\n          })}\n        </div>\n      </div>\n      <div style={{...panelBox,padding:10}}>\n        <div style={{...badgeTitle,marginBottom:6}}>Video de contexto</div>\n        <div style={{width:\"100%\",aspectRatio:\"16/9\",background:theme.surfaceAlt,borderRadius:12,border:`2px dashed ${theme.border}`,display:\"grid\",placeItems:\"center\",color:\"#90A4AE\",fontWeight:700,pointerEvents:\"none\"}}>Video aquí</div>\n      </div>\n      <div style={{...panelBox,textAlign:\"left\",padding:16}}>\n        <div style={{fontWeight:900,color:theme.rosa,marginBottom:6}}>{desafioActual.titulo}</div>\n        <p style={{marginTop:0}}>{desafioActual.descripcion}</p>\n        <div style={{display:\"grid\",gridTemplateColumns:\"auto 1fr\",gap:12,alignItems:\"center\",background:\"#FAFAFA\",padding:10,borderRadius:12,border:\"1px solid #eee\",marginBottom:10}}>\n          <div style={{width:56,height:56,borderRadius:\"50%\",background:theme.rosa,color:theme.blanco,display:\"grid\",placeItems:\"center\",fontWeight:900,boxShadow:\"0 0 0 4px rgba(233,30,99,.15)\"}}>\n            {THEMES[temaSel].persona.nombre.charAt(0)}\n          </div>\n          <div>\n            <div style={{fontWeight:800,color:theme.azul}}>{THEMES[temaSel].persona.nombre} · {THEMES[temaSel].persona.edad} años</div>\n            <div style={{fontSize:13,opacity:.85}}>{THEMES[temaSel].persona.bio}</div>\n          </div>\n        </div>\n        <div style={{display:\"flex\",justifyContent:\"flex-end\"}}><Btn onClick={onContinue} label=\"Elegir y continuar\" full={false}/></div>\n      </div>\n    </div>\n  </>);\n}\n/* ===================== REUSABLES (resto de componentes) ===================== */\n\n/* --(mapa de empatía) -- */\nfunction EmpathySection(props:any){\n  const {\n    isTablet,isMobile,\n    bubbleSize,centerBubbleSize,bubblePositions,\n    EMPATIA_FIELDS,empatia,\n    setActiveBubble,activeBubble,\n    onEmpatiaChange\n  } = props;\n\n  return (\n    <div style={{display:\"grid\",gridTemplateColumns:isTablet?\"1fr\":\"420px 1fr\",gap:16,textAlign:\"left\"}}>\n      <div style={{position:\"relative\",height:isMobile?300:340,...panelBox,overflow:\"hidden\"}}>\n        <div style={{\n          position:\"absolute\",left:\"50%\",top:\"55%\",\n          transform:\"translate(-50%,-50%)\",\n          width:centerBubbleSize,height:centerBubbleSize,\n          borderRadius:\"50%\",background:\"#FFF3F7\",\n          border:`3px solid ${theme.rosa}`,\n          display:\"grid\",placeItems:\"center\",\n          fontWeight:900,color:theme.rosa,textAlign:\"center\",padding:12\n        }}>\n          Persona\n        </div>\n\n        {EMPATIA_FIELDS.map((f:any)=>{\n          const filled = !!empatia[f.key]?.trim();\n          const active = activeBubble===f.key;\n          return (\n            <button\n              key={f.key}\n              onClick={()=>setActiveBubble(f.key)}\n              style={{\n                position:\"absolute\",\n                ...(bubblePositions[f.key]||{}),\n                width:bubbleSize,height:bubbleSize,borderRadius:\"50%\",\n                border:`3px solid ${active?theme.azul:theme.rosa}`,\n                background:filled?\"#E1F5FE\":\"#FFFDE7\",\n                color:theme.texto,fontWeight:800,cursor:\"pointer\",\n                boxShadow:active?\"0 0 0 6px rgba(25,118,210,.15)\":\"0 6px 14px rgba(0,0,0,.08)\"\n              }}\n              title={f.label}\n            >\n              {filled?\"✔ \":\"\"}{f.label}\n            </button>\n          )\n        })}\n      </div>\n\n      <div style={panelBox}>\n        <div style={{fontWeight:900,color:theme.azul,marginBottom:6}}>\n          {EMPATIA_FIELDS.find((x:any)=>x.key===activeBubble)?.label}\n        </div>\n        <textarea\n          value={empatia[activeBubble]}\n          onChange={e=>onEmpatiaChange(activeBubble,e.target.value)}\n          placeholder={`Escribe sobre ${EMPATIA_FIELDS.find((x:any)=>x.key===activeBubble)?.label}...`}\n          style={{...baseInput,minHeight:160}}\n        />\n        <div style={{fontSize:12,opacity:.75,marginTop:8}}>\n          Consejos: ejemplos concretos, verbos en acción, datos o citas del usuario.\n        </div>\n        <div style={{fontSize:13,opacity:.85,marginTop:12}}>\n          Completadas: {EMPATIA_FIELDS.filter((f:any)=>empatia[f.key].trim()).length}/{EMPATIA_FIELDS.length}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* --Confetti-- */\nconst ConfettiBurst:React.FC=()=>{\n  const [items,setItems]=useState<{id:number;left:number;delay:number;emoji:string}[]>([]);\n  useEffect(()=>{\n    const EMOJIS=[\"🎉\",\"🎊\",\"✨\",\"🏆\",\"🎈\",\"💥\",\"⭐\"];\n    const arr=Array.from({length:28}).map((_,i)=>({\n      id:i,left:Math.random()*100,delay:Math.random()*.8,\n      emoji:EMOJIS[Math.floor(Math.random()*EMOJIS.length)]\n    }));\n    setItems(arr);\n    const t=setTimeout(()=>setItems([]),2500);\n    return()=>clearTimeout(t);\n  },[]);\n  return(\n    <div style={{position:\"absolute\",inset:0,overflow:\"hidden\",pointerEvents:\"none\"}}>\n      {items.map(p=>(\n        <div\n          key={p.id}\n          style={{\n            position:\"absolute\",top:-20,left:`${p.left}%`,\n            fontSize:22,animation:`fall ${1.8+Math.random()*.9}s ease-in ${p.delay}s forwards`\n          }}>\n          {p.emoji}\n        </div>\n      ))}\n    </div>\n  );\n};\n\n/* --RankingBars-- */\nfunction RankingBars({data,onContinue}:{data:{equipo:string;total:number}[];onContinue:()=>void;}){\n  const [mounted,setMounted]=useState(false);\n  useEffect(()=>setMounted(true),[]);\n  const max=Math.max(1,...data.map(d=>d.total||0));\n\n  return (\n    <>\n      <div style={{...panelBox}}>\n        {data.length===0 && <div style={{opacity:.7}}>Aún no hay datos de equipos…</div>}\n        {data.map((r,i)=>{\n          const pct=Math.round((r.total/max)*100);\n          const isFirst=i===0;\n          const isLast=i===data.length-1;\n          const secondOrThird=!isFirst&&!isLast;\n          const barBg=isFirst\n            ? `linear-gradient(90deg, ${theme.amarillo}, #FFF59D, ${theme.amarillo})`\n            : secondOrThird\n            ? `linear-gradient(90deg, ${theme.azul}22, ${theme.azul}66)`\n            : \"#CFD8DC\";\n          return (\n            <div key={r.equipo} style={{display:\"grid\",gridTemplateColumns:\"56px 1fr 90px\",gap:8,alignItems:\"center\",marginBottom:12}}>\n              <div style={{fontWeight:900,fontSize:18,color:theme.blanco,textShadow:\"0 1px 2px rgba(0,0,0,.3)\"}}>\n                {i+1}\n                {isFirst && <div style={{fontSize:22,lineHeight:\"16px\",animation:\"crownFloat 1.6s ease-in-out infinite\"}}>👑</div>}\n                {isLast && <div style={{fontSize:18,lineHeight:\"16px\"}}>🔗</div>}\n              </div>\n              <div style={{position:\"relative\"}}>\n                <div style={{position:\"absolute\",left:10,top:-18,fontWeight:800,color:isLast?\"#607D8B\":theme.texto}}>\n                  {r.equipo}{i===1&&data.length>=2?\" 🥈\":i===2&&data.length>=3?\" 🥉\":\"\"}\n                </div>\n                <div style={{height:28,background:\"#F1F5F9\",borderRadius:14,overflow:\"hidden\",boxShadow:\"inset 0 0 0 1px #e2e8f0\"}}>\n                  <div\n                    style={{\n                      height:\"100%\",width:mounted?`${pct}%`:0,transition:\"width .9s ease\",\n                      background:barBg,backgroundSize:isFirst?\"200% 100%\":undefined,\n                      animation:isFirst?\"shimmer 2.4s linear infinite\":undefined,\n                      borderRadius:14,position:\"relative\",filter:isLast?\"grayscale(.3)\":\"none\"\n                    }}\n                  />\n                </div>\n              </div>\n              <div style={{textAlign:\"right\",fontWeight:900,fontSize:18}}>{r.total}</div>\n            </div>\n          )\n        })}\n      </div>\n      <div style={{display:\"flex\",justifyContent:\"center\",gap:10,marginTop:12}}>\n        <Btn onClick={onContinue} label=\"Continuar\" full={false}/>\n      </div>\n    </>\n  );\n}\n\n/* --Ruleta/Orden presentaciones (profesor)-- */\nfunction WheelOrder({teams,onConfirm}:{teams:string[];onConfirm:(order:string[])=>void;}){\n  const [order,setOrder]=useState<string[]>([]);\n  const remaining=teams.filter(t=>!order.includes(t));\n\n  return(\n    <div style={{...panelBox}}>\n      <div style={{...badgeTitle}}>Ruleta / Orden aleatorio</div>\n      <div style={{display:\"grid\",gap:10}}>\n        <div style={{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:10}}>\n          <div>\n            <div style={{fontWeight:800,marginBottom:6}}>Equipos disponibles</div>\n            <div style={{border:`1px dashed ${theme.border}`,borderRadius:12,padding:10,background:\"#fff\",minHeight:80}}>\n              {remaining.length===0\n                ? <div style={{opacity:.6}}>Sin equipos pendientes</div>\n                : remaining.map((t,i)=>(<div key={i}>• {t}</div>))}\n            </div>\n          </div>\n          <div>\n            <div style={{fontWeight:800,marginBottom:6}}>Orden elegido</div>\n            <div style={{border:`1px dashed ${theme.border}`,borderRadius:12,padding:10,background:\"#fff\",minHeight:80}}>\n              {order.length===0\n                ? <div style={{opacity:.6}}>Aún no hay orden…</div>\n                : order.map((t,i)=>(<div key={i}><b>{i+1}.</b> {t}</div>))}\n            </div>\n          </div>\n        </div>\n\n        <div style={{display:\"flex\",gap:8,flexWrap:\"wrap\"}}>\n          <Btn\n            full={false}\n            label=\"🎰 Girar (agrega 1 equipo)\"\n            onClick={()=>{\n              if(remaining.length===0) return;\n              const next=remaining[Math.floor(Math.random()*remaining.length)];\n              setOrder(o=>[...o,next]);\n            }}\n          />\n          <Btn\n            full={false}\n            variant=\"outline\"\n            label=\"🎲 Girar 3 veces\"\n            onClick={()=>{\n              let pool=remaining.slice(); const picks:string[]=[];\n              for(let i=0;i<3 && pool.length;i++){\n                const idx=Math.floor(Math.random()*pool.length);\n                picks.push(pool[idx]); pool.splice(idx,1);\n              }\n              setOrder(o=>[...o,...picks]);\n            }}\n          />\n          <Btn\n            full={false}\n            variant=\"outline\"\n            label=\"🔀 Generar todo al azar\"\n            onClick={()=> setOrder(o=>[...o, ...shuffle(remaining)])}\n          />\n          <Btn full={false} bg=\"#F44336\" label=\"↺ Limpiar\" onClick={()=>setOrder([])}/>\n          <div style={{marginLeft:\"auto\"}}>\n            <Btn\n              full={false}\n              label=\"✅ Confirmar orden y comenzar\"\n              onClick={()=>{\n                const finalOrder=order.length?order:[...shuffle(teams)];\n                onConfirm(finalOrder);\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* --Escenario Pitch (profesor) -- */\nfunction PresentStageTeacher({\n  currentTeam,onNext,pitchSec,startTimer,pauseTimer,resetTimer,remaining\n}:{currentTeam:string;onNext:()=>void;pitchSec:number;startTimer:()=>void;pauseTimer:()=>void;resetTimer:(s:number)=>void;remaining:number;}){\n  return(\n    <div style={{display:\"grid\",gap:12}}>\n      <Card title=\"Pitch en curso\" subtitle={`Presenta: ${currentTeam}`} width={900}>\n        <div\n          style={{\n            width:\"100%\",aspectRatio:\"16/7\",borderRadius:16,border:`2px solid ${theme.border}`,\n            display:\"grid\",placeItems:\"center\",background:\"linear-gradient(135deg,#fff 0%, #F1F5F9 60%)\"\n          }}\n        >\n          <div style={{fontSize:28,fontWeight:900,color:theme.azul}}>🎤 Escenario — {currentTeam}</div>\n        </div>\n\n        <div style={{marginTop:12}}>\n          <div style={{...panelBox,textAlign:\"center\"}}>\n            <div style={{fontWeight:900,color:theme.azul,marginBottom:6}}>Tiempo de pitch</div>\n            <div style={{fontSize:64,fontWeight:900,letterSpacing:1,marginBottom:12}}>{mmss(remaining)}</div>\n            <div style={{display:\"flex\",gap:8,justifyContent:\"center\",flexWrap:\"wrap\"}}>\n              <Btn onClick={()=>startTimer()} label=\"▶ Iniciar\" full={false}/>\n              <Btn onClick={()=>pauseTimer()} label=\"⏸ Pausa\" full={false}/>\n              <Btn onClick={()=>resetTimer(pitchSec)} label=\"⟲ Reset\" full={false} variant=\"outline\"/>\n            </div>\n          </div>\n        </div>\n\n        <div style={{display:\"flex\",justifyContent:\"center\",marginTop:12}}>\n          <Btn onClick={onNext} label=\"Siguiente grupo\" full={false}/>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nfunction EvaluationPanelStudent({\n  roomCode,teams,analyticsUpdate,fromTeam\n}:{roomCode:string;teams:string[];analyticsUpdate:(fn:(a:Analytics)=>Analytics)=>void;fromTeam:string;}){\n  const [active,setActive]=useState(teams[0]||\"\");\n  const [ratingsByTeam,setRatingsByTeam]=useState<Record<string,number[]>>(\n    ()=>Object.fromEntries(teams.map(t=>[t,[0,0,0,0,0,0]]))\n  );\n  const [commentByTeam,setCommentByTeam]=useState<Record<string,string>>(\n    ()=>Object.fromEntries(teams.map(t=>[t,\"\"]))\n  );\n\n  useEffect(()=>{\n    if(teams.length && !active) setActive(teams[0]);\n  },[teams,active]);\n\n  const rate=(team:string,idx:number,value:number)=>{\n    setRatingsByTeam(prev=>{\n      const current=prev[team]||[0,0,0,0,0,0];\n      const next=current.slice();\n      const old=current[idx]||0;\n      next[idx]=value;\n\n      const delta=value-old;\n      if(delta!==0) awardCoinsToTeam(roomCode, team, delta);\n\n      return {...prev,[team]:next};\n    });\n  };\n\n  const submitFeedback=(team:string)=>{\n    const ratings=ratingsByTeam[team]||[0,0,0,0,0,0];\n    const comment=(commentByTeam[team]||\"\").trim();\n    analyticsUpdate(a=>({...a,feedbacks:[...a.feedbacks,{\n      roomCode, fromTeam, targetTeam:team, ratings,\n      comment:comment||undefined, ts:Date.now()\n    }]}));\n    alert(\"¡Gracias! Evaluación registrada para \" + team);\n  };\n\n  return(\n    <Card title=\"Evaluación de equipos\" subtitle=\"Elige equipo y califica 0–5 (cada punto = 1 moneda para ese equipo)\" width={1100}>\n      {/* Pestañas */}\n      <div style={{position:\"sticky\",top:12,zIndex:5,background:\"transparent\",paddingBottom:6,marginBottom:10}}>\n        <div style={{display:\"flex\",gap:8,overflowX:\"auto\"}}>\n          {teams.map(t=>{\n            const activeTab=active===t;\n            return(\n              <button\n                key={t}\n                onClick={()=>setActive(t)}\n                style={{\n                  padding:\"8px 12px\",borderRadius:12,\n                  border:`2px solid ${activeTab?theme.rosa:theme.border}`,\n                  background:activeTab?\"#FFF3F7\":\"#fff\",\n                  fontWeight:800,cursor:\"pointer\",whiteSpace:\"nowrap\"\n                }}>\n                {t}\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Barras 0-5 */}\n      {active && (\n        <div style={{...panelBox}}>\n          <div style={{fontWeight:900,color:theme.azul,marginBottom:8}}>{active}</div>\n          <div style={{display:\"grid\",gap:10}}>\n            {Array.from({length:6}).map((_,i)=>{\n              const val=ratingsByTeam[active]?.[i]||0;\n              return(\n                <div key={i} style={{display:\"grid\",gridTemplateColumns:\"160px 1fr 60px\",gap:10,alignItems:\"center\"}}>\n                  <div style={{fontWeight:800}}>Criterio {i+1}</div>\n                  <input\n                    type=\"range\" min={0} max={5} step={1}\n                    value={val}\n                    onChange={e=>rate(active,i,Number(e.target.value))}\n                    style={{width:\"100%\"}}\n                  />\n                  <div style={{textAlign:\"right\",fontWeight:900}}>{val}/5</div>\n                </div>\n              );\n            })}\n          </div>\n\n          <div style={{marginTop:12}}>\n            <div style={{fontWeight:800,marginBottom:6}}>Comentario (opcional)</div>\n            <textarea\n              value={commentByTeam[active]||\"\"}\n              onChange={e=>setCommentByTeam(s=>({...s,[active]:e.target.value}))}\n              style={{...baseInput,minHeight:80}}\n              placeholder=\"Escribe feedback para este equipo (opcional)…\"\n            />\n          </div>\n\n          <div style={{display:\"flex\",justifyContent:\"flex-end\",marginTop:10}}>\n            <Btn label=\"Enviar evaluación de este equipo\" full={false} onClick={()=>submitFeedback(active)}/>\n          </div>\n        </div>\n      )}\n    </Card>\n  );\n}\n\n/* --ADMIN DASHBOARD-- */\nfunction AdminDashboard({\n  analytics,THEMES,setTHEMES,flow,onBack,ranking,clearMetrics\n}:{analytics:Analytics;THEMES:any;setTHEMES:(t:any)=>void;flow:any;onBack:()=>void;ranking:{equipo:string;total:number}[];clearMetrics:()=>void;}){\n  const [tab,setTab]=useState<\"resumen\"|\"temas\"|\"equipos\"|\"reflexiones\"|\"uso\"|\"ranking\">(\"resumen\");\n\n  const exportJSON=(name:string,data:any)=>{\n    const blob=new Blob([JSON.stringify(data,null,2)],{type:\"application/json\"});\n    const url=URL.createObjectURL(blob);\n    const a=document.createElement(\"a\");\n    a.href=url; a.download=`${name}.json`; a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const totals={\n    equipos:analytics.teams.length,\n    estudiantes:analytics.teams.reduce((acc,t)=>acc+(t.integrantes?.length||0),0),\n    reflexiones:analytics.reflections.length,\n    rooms:analytics.roomsCreated\n  };\n\n  return(\n    <Card title=\"Panel de Administrador\" subtitle=\"Configura el juego y revisa métricas\" width={1100}>\n      <div style={{display:\"flex\",gap:8,flexWrap:\"wrap\",marginBottom:12}}>\n        {[\n          [\"resumen\",\"📊 Resumen\"],\n          [\"temas\",\"🎯 Temáticas & Desafíos\"],\n          [\"equipos\",\"👥 Equipos\"],\n          [\"reflexiones\",\"📝 Reflexiones\"],\n          [\"uso\",\"📈 Uso de desafíos\"],\n          [\"ranking\",\"🏆 Ranking/Monedas\"]\n        ].map(([k,label])=>(\n          <button\n            key={k}\n            onClick={()=>setTab(k as any)}\n            style={{\n              padding:\"8px 12px\",borderRadius:12,\n              border:`2px solid ${tab===k?theme.azul:theme.border}`,\n              background:tab===k?\"#E3F2FD\":\"#fff\",\n              fontWeight:800,cursor:\"pointer\"\n            }}>\n            {label}\n          </button>\n        ))}\n        <div style={{marginLeft:\"auto\",display:\"flex\",gap:8}}>\n          <Btn label=\"Exportar métricas\" full={false} variant=\"outline\" onClick={()=>exportJSON(\"udd_metrics\",analytics)}/>\n          <Btn label=\"Exportar configuración\" full={false} variant=\"outline\" onClick={()=>exportJSON(\"udd_themes\",THEMES)}/>\n          <Btn label=\"Resetear métricas\" bg=\"#F44336\" full={false} onClick={()=>{\n            if(confirm(\"¿Seguro que quieres borrar todas las métricas (equipos/uso/reflexiones)?\")){\n              clearMetrics(); alert(\"Métricas reseteadas.\");\n            }\n          }}/>\n          <Btn label=\"⬅ Volver\" full={false} bg={theme.amarillo} fg={theme.texto} onClick={onBack}/>\n        </div>\n      </div>\n\n      {tab===\"resumen\"&&(\n        <div style={{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(220px, 1fr))\",gap:12}}>\n          {[\n            {k:\"Salas creadas\",v:totals.rooms},\n            {k:\"Equipos registrados\",v:totals.equipos},\n            {k:\"Estudiantes (aprox.)\",v:totals.estudiantes},\n            {k:\"Reflexiones recibidas\",v:totals.reflexiones}\n          ].map(card=>(\n            <div key={card.k} style={panelBox}>\n              <div style={{fontSize:13,color:theme.muted}}>{card.k}</div>\n              <div style={{fontSize:32,fontWeight:900}}>{card.v}</div>\n            </div>\n          ))}\n          <div style={{gridColumn:\"1 / -1\",...panelBox}}>\n            <div style={badgeTitle}>Sala actual</div>\n            <div style={{fontFamily:\"Roboto Mono, monospace\",fontWeight:900,fontSize:18}}>\n              Código: {flow.roomCode||\"—\"} · Paso: {flow.step} · Equipos esperados: {flow.expectedTeams||\"—\"}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {tab===\"temas\"&&<ThemeEditor THEMES={THEMES} setTHEMES={setTHEMES}/>}\n\n      {tab===\"equipos\"&&(\n        <div style={{...panelBox,textAlign:\"left\"}}>\n          <div style={badgeTitle}>Equipos registrados</div>\n          {analytics.teams.length===0\n            ? (<div style={{opacity:.7}}>Sin equipos aún.</div>)\n            : (\n              <div style={{display:\"grid\",gap:10}}>\n                {analytics.teams.slice().reverse().map((t:any,i:number)=>(\n                  <div key={i} style={{border:`1px solid ${theme.border}`,borderRadius:12,padding:10}}>\n                    <div style={{fontWeight:800}}>{t.teamName} <span style={{color:theme.muted}}>· sala {t.roomCode}</span></div>\n                    <div style={{fontSize:12,color:theme.muted}}>{new Date(t.ts).toLocaleString()}</div>\n                    <div style={{marginTop:6,display:\"grid\",gap:4}}>\n                      {t.integrantes?.map((p:any,j:number)=>(\n                        <div key={j}>• <b>{p.nombre}</b> — {p.carrera}</div>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n        </div>\n      )}\n\n      {tab===\"reflexiones\"&&(\n        <div style={{...panelBox,textAlign:\"left\"}}>\n          <div style={badgeTitle}>Reflexiones finales</div>\n          {analytics.reflections.length===0\n            ? (<div style={{opacity:.7}}>Aún no hay reflexiones.</div>)\n            : (\n              <div style={{display:\"grid\",gap:10}}>\n                {analytics.reflections.slice().reverse().map((r:any,i:number)=>(\n                  <div key={i} style={{border:`1px solid ${theme.border}`,borderRadius:12,padding:10}}>\n                    <div style={{fontWeight:800}}>{r.teamName} <span style={{color:theme.muted}}>· sala {r.roomCode}</span></div>\n                    <div style={{fontSize:12,color:theme.muted}}>{new Date(r.ts).toLocaleString()}</div>\n                    <div style={{marginTop:6,whiteSpace:\"pre-wrap\"}}>{r.text}</div>\n                  </div>\n                ))}\n              </div>\n            )}\n        </div>\n      )}\n\n      {tab===\"uso\"&&(\n        <div style={{...panelBox,textAlign:\"left\"}}>\n          <div style={badgeTitle}>Uso de desafíos</div>\n          <div style={{fontSize:12,color:theme.muted,marginBottom:8}}>\n            (Se incrementa cuando el profesor abre el mapa de empatía con un desafío seleccionado)\n          </div>\n          {Object.keys(analytics.challengeUsage).length===0\n            ? (<div style={{opacity:.7}}>Aún no hay datos de uso.</div>)\n            : (\n              <div style={{display:\"grid\",gap:8}}>\n                {Object.entries(analytics.challengeUsage).sort((a,b)=>b[1]-a[1]).map(([key,count])=>{\n                  const [themeId,idxStr]=key.split(\"#\"); const idx=Number(idxStr);\n                  const t=THEMES[themeId as keyof typeof THEMES];\n                  const label=t?.label&&t.desafios[idx]?`${t.label} — ${t.desafios[idx].titulo}`:key;\n                  return(\n                    <div key={key} style={{display:\"grid\",gridTemplateColumns:\"1fr auto\",gap:8}}>\n                      <div>{label}</div>\n                      <div style={{fontWeight:900}}>{count}</div>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n        </div>\n      )}\n\n      {tab===\"ranking\"&&(\n        <div style={{...panelBox}}>\n          <div style={{marginBottom:8,textAlign:\"left\",...badgeTitle}}>\n            Monedas (sala actual {flow.roomCode||\"—\"})\n          </div>\n          <RankingBars data={ranking} onContinue={()=>{}}/>\n        </div>\n      )}\n    </Card>\n  );\n}\n\n/* --Theme Editor (admin)-- */\nfunction ThemeEditor({THEMES,setTHEMES}:{THEMES:any;setTHEMES:(t:any)=>void;}){\n  type ThemeId = keyof typeof THEMES;\n  const [current,setCurrent]=useState<ThemeId>(Object.keys(THEMES)[0] as ThemeId);\n  const [local,setLocal]=useState<any>(THEMES);\n  useEffect(()=>setLocal(THEMES),[THEMES]);\n\n  const t=local[current];\n  const save=()=>{ setTHEMES(local); alert(\"Configuración guardada.\"); };\n  const addChallenge=()=>{ const next={...local}; next[current].desafios.push({titulo:\"Nuevo desafío\",descripcion:\"Descripción...\"}); setLocal(next); };\n  const removeChallenge=(i:number)=>{ const next={...local}; next[current].desafios.splice(i,1); setLocal(next); };\n  const updateChallenge=(i:number,patch:Partial<{titulo:string;descripcion:string}>)=>{\n    const next={...local}; next[current].desafios[i]={...next[current].desafios[i],...patch}; setLocal(next);\n  };\n  const updatePersona=(patch:Partial<{nombre:string;edad:number;bio:string}>)=>{\n    const next={...local}; next[current].persona={...next[current].persona,...patch}; setLocal(next);\n  };\n\n  return(\n    <div style={{display:\"grid\",gap:12}}>\n      <div style={{display:\"flex\",gap:8,justifyContent:\"center\",flexWrap:\"wrap\"}}>\n        {(Object.keys(local) as ThemeId[]).map(k=>(\n          <button\n            key={k}\n            onClick={()=>setCurrent(k)}\n            style={{\n              padding:\"8px 12px\",borderRadius:12,\n              border:`2px solid ${current===k?theme.azul:theme.border}`,\n              background:current===k?\"#E3F2FD\":\"#fff\",\n              fontWeight:800,cursor:\"pointer\"\n            }}>\n            {local[k].label}\n          </button>\n        ))}\n      </div>\n\n      <div style={{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:12,alignItems:\"start\"}}>\n        <div style={{...panelBox,textAlign:\"left\"}}>\n          <div style={badgeTitle}>Persona</div>\n          <label>Nombre</label>\n          <input style={{...baseInput,marginBottom:8}} value={t.persona.nombre} onChange={e=>updatePersona({nombre:e.target.value})}/>\n          <label>Edad</label>\n          <input type=\"number\" style={{...baseInput,marginBottom:8}} value={t.persona.edad} onChange={e=>updatePersona({edad:Number(e.target.value)||0})}/>\n          <label>Bio</label>\n          <textarea style={{...baseInput,minHeight:100}} value={t.persona.bio} onChange={e=>updatePersona({bio:e.target.value})}/>\n        </div>\n\n        <div style={{...panelBox,textAlign:\"left\"}}>\n          <div style={badgeTitle}>Desafíos</div>\n          <div style={{display:\"grid\",gap:10}}>\n            {t.desafios.map((d:any,i:number)=>(\n              <div key={i} style={{border:`1px solid ${theme.border}`,borderRadius:12,padding:10}}>\n                <div style={{display:\"grid\",gap:6}}>\n                  <label>Título</label>\n                  <input style={baseInput} value={d.titulo} onChange={e=>updateChallenge(i,{titulo:e.target.value})}/>\n                  <label>Descripción</label>\n                  <textarea style={{...baseInput,minHeight:80}} value={d.descripcion} onChange={e=>updateChallenge(i,{descripcion:e.target.value})}/>\n                </div>\n                <div style={{display:\"flex\",justifyContent:\"flex-end\",marginTop:8}}>\n                  <Btn label=\"Eliminar\" full={false} bg=\"#F44336\" onClick={()=>{ if(confirm(\"¿Eliminar desafío?\")) removeChallenge(i); }}/>\n                </div>\n              </div>\n            ))}\n            <Btn label=\"Agregar desafío\" full={false} onClick={addChallenge}/>\n          </div>\n        </div>\n      </div>\n\n      <div style={{display:\"flex\",justifyContent:\"flex-end\",gap:8}}>\n        <Btn label=\"Guardar cambios\" onClick={save} full={false}/>\n      </div>\n    </div>\n  );\n}\n\n/* ===================== UTILS (final) ===================== */\nfunction useMediaQuery(q:string){\n  const [m,setM]=useState(false);\n  useEffect(()=>{\n    const mq=window.matchMedia(q);\n    const h=()=>setM(mq.matches);\n    h();\n    mq.addEventListener(\"change\",h);\n    return()=>mq.removeEventListener(\"change\",h)\n  },[q]);\n  return m;\n}\n\nfunction shuffle<T>(arr:T[]):T[]{\n  const a=arr.slice();\n  for(let i=a.length-1;i>0;i--){\n    const j=Math.floor(Math.random()*(i+1));\n    [a[i],a[j]]=[a[j],a[i]];\n  }\n  return a;\n}\nfunction generateCode(len:number=5): string {\n  const CHARS = \"ABCDEFGHJKLMNPQRSTUVWXYZ23456789\";\n  let out = \"\";\n  for (let i=0;i<len;i++){\n    out += CHARS[Math.floor(Math.random()*CHARS.length)];\n  }\n  return out;\n}\n\n/* sumar monedas a un equipo arbitrario (no necesariamente el propio) */\nfunction awardCoinsToTeam(roomCode:string, teamName:string, delta:number){\n  if(!roomCode||!teamName||!delta) return;\n  const map=readJSON<Record<string,number>>(COINS_KEY,{});\n  const key=`${roomCode}::${teamName}`;\n  map[key]=(map[key]||0)+delta;\n  writeJSON(COINS_KEY,map);\n  try{window.dispatchEvent(new StorageEvent(\"storage\",{key:COINS_KEY,newValue:JSON.stringify(map)}))}catch{}\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}